!function(){function t(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,i){var e=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null==e)return;var o,r,n=[],a=!0,c=!1;try{for(e=e.call(t);!(a=(o=e.next()).done)&&(n.push(o.value),!i||n.length!==i);a=!0);}catch(d){c=!0,r=d}finally{try{a||null==e.return||e.return()}finally{if(c)throw r}}return n}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return i(t,e);var o=Object.prototype.toString.call(t).slice(8,-1);"Object"===o&&t.constructor&&(o=t.constructor.name);if("Map"===o||"Set"===o)return Array.from(t);if("Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o))return i(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(t,i){(null==i||i>t.length)&&(i=t.length);for(var e=0,o=new Array(i);e<i;e++)o[e]=t[e];return o}function e(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}function o(t,i){for(var e=0;e<i.length;e++){var o=i[e];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function r(t,i,e){return i&&o(t.prototype,i),e&&o(t,e),t}(self.webpackChunkspice=self.webpackChunkspice||[]).push([[418],{75418:function(i,o,n){"use strict";n.r(o),n.d(o,{SettingsModule:function(){return Ot}});var a=n(61116),c=n(67663),d=n(31041),l=n(69056),g=n(35366),s=n(40147),u=n(63589),p=n(77307),m=n(84369),Z=n(6489),f=n(22797),A=n(13070),h=n(9550);function v(t,i){if(1&t){var e=g.EpF();g.TgZ(0,"button",20),g.NdJ("click",function(){return g.CHM(e),g.oxw().addNewArticleAction()}),g.TgZ(1,"mat-icon"),g._uU(2,"add"),g.qZA(),g.qZA()}}function q(t,i){if(1&t){var e=g.EpF();g.TgZ(0,"div",30),g.TgZ(1,"a",16),g.NdJ("click",function(){var t=g.CHM(e).$implicit;return g.oxw(2).chooseDepotAction(t)}),g.TgZ(2,"div",31),g.TgZ(3,"div",32),g._UZ(4,"img",33),g.qZA(),g.TgZ(5,"span",34),g._uU(6),g.qZA(),g.qZA(),g.qZA(),g.qZA()}if(2&t){var o=i.$implicit;g.xp6(4),g.s9C("src",o.img,g.LSH),g.xp6(2),g.Oqu(o.name)}}var T=function(){return{isFromAddArticle:!0}};function x(t,i){if(1&t&&(g.TgZ(0,"div",21),g.TgZ(1,"div",22),g.TgZ(2,"h3",23),g._uU(3," Veuillez choisir un d\xe9p\xf4t pour continuer "),g.qZA(),g.qZA(),g.TgZ(4,"div",24),g.TgZ(5,"a",25),g.TgZ(6,"div",26),g.TgZ(7,"div",27),g.TgZ(8,"mat-icon",28),g._uU(9,"add"),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.YNc(10,q,7,2,"div",29),g.qZA(),g.qZA()),2&t){var e=g.oxw();g.xp6(5),g.Q6J("state",g.DdM(2,T)),g.xp6(5),g.Q6J("ngForOf",e.depots)}}function y(t,i){if(1&t){var e=g.EpF();g.TgZ(0,"div",30),g.TgZ(1,"a",16),g.NdJ("click",function(){var t=g.CHM(e).$implicit;return g.oxw(2).chooseCategoryAction(t)}),g.TgZ(2,"div",31),g.TgZ(3,"div",32),g._UZ(4,"img",33),g.qZA(),g.TgZ(5,"span",34),g._uU(6),g.qZA(),g.qZA(),g.qZA(),g.qZA()}if(2&t){var o=i.$implicit;g.xp6(4),g.s9C("src",o.img,g.LSH),g.xp6(2),g.Oqu(o.name)}}function b(t,i){if(1&t&&(g.TgZ(0,"div",21),g.TgZ(1,"div",22),g.TgZ(2,"h3",23),g._uU(3," Veuillez choisir une cat\xe9gorie pour continuer "),g.qZA(),g.qZA(),g.TgZ(4,"div",24),g.TgZ(5,"a",35),g.TgZ(6,"div",26),g.TgZ(7,"div",27),g.TgZ(8,"mat-icon",28),g._uU(9,"add"),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.YNc(10,y,7,2,"div",29),g.qZA(),g.qZA()),2&t){var e=g.oxw();g.xp6(10),g.Q6J("ngForOf",e.categories)}}function F(t,i){if(1&t){var e=g.EpF();g.TgZ(0,"div",30),g.TgZ(1,"a",16),g.NdJ("click",function(){var t=g.CHM(e).$implicit;return g.oxw(2).chooseFamilyAction(t)}),g.TgZ(2,"div",31),g.TgZ(3,"div",32),g._UZ(4,"img",33),g.qZA(),g.TgZ(5,"span",34),g._uU(6),g.qZA(),g.qZA(),g.qZA(),g.qZA()}if(2&t){var o=i.$implicit;g.xp6(4),g.s9C("src",o.img,g.LSH),g.xp6(2),g.Oqu(o.name)}}function _(t,i){if(1&t&&(g.TgZ(0,"div",21),g.TgZ(1,"div",22),g.TgZ(2,"h3",23),g._uU(3," Veuillez choisir une famille pour continuer "),g.qZA(),g.qZA(),g.TgZ(4,"div",24),g.TgZ(5,"a",36),g.TgZ(6,"div",26),g.TgZ(7,"div",27),g.TgZ(8,"mat-icon",28),g._uU(9,"add"),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.YNc(10,F,7,2,"div",29),g.qZA(),g.qZA()),2&t){var e=g.oxw();g.xp6(10),g.Q6J("ngForOf",e.families)}}function w(t,i){if(1&t){var e=g.EpF();g.TgZ(0,"div",30),g.TgZ(1,"a",16),g.NdJ("click",function(){var t=g.CHM(e).$implicit;return g.oxw(2).chooseTypeAction(t)}),g.TgZ(2,"div",31),g.TgZ(3,"div",32),g._UZ(4,"img",33),g.qZA(),g.TgZ(5,"span",34),g._uU(6),g.qZA(),g.qZA(),g.qZA(),g.qZA()}if(2&t){var o=i.$implicit;g.xp6(4),g.s9C("src",o.img,g.LSH),g.xp6(2),g.Oqu(o.name)}}function C(t,i){if(1&t&&(g.TgZ(0,"div",21),g.TgZ(1,"div",22),g.TgZ(2,"h3",23),g._uU(3," Veuillez choisir un type pour continuer "),g.qZA(),g.qZA(),g.TgZ(4,"div",24),g.TgZ(5,"a",37),g.TgZ(6,"div",26),g.TgZ(7,"div",27),g.TgZ(8,"mat-icon",28),g._uU(9,"add"),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.YNc(10,w,7,2,"div",29),g.qZA(),g.qZA()),2&t){var e=g.oxw();g.xp6(10),g.Q6J("ngForOf",e.types)}}function U(t,i){if(1&t){var e=g.EpF();g.TgZ(0,"button",57),g.NdJ("click",function(){g.CHM(e);var t=g.oxw().$implicit;return g.oxw(2).addArticleToCourse(t)}),g.TgZ(1,"mat-icon"),g._uU(2,"add_shopping_cart"),g.qZA(),g._uU(3," Ajouter "),g.qZA()}}function k(t,i){if(1&t){var e=g.EpF();g.TgZ(0,"button",58),g.NdJ("click",function(){g.CHM(e);var t=g.oxw().$implicit;return g.oxw(2).editArticle(t)}),g.TgZ(1,"mat-icon"),g._uU(2,"edit"),g.qZA(),g._uU(3," Modifier "),g.qZA()}}function I(t,i){if(1&t){var e=g.EpF();g.TgZ(0,"button",59),g.NdJ("click",function(){g.CHM(e);var t=g.oxw().$implicit;return g.oxw(2).removeArticleFromCourse(t)}),g.TgZ(1,"mat-icon"),g._uU(2,"delete"),g.qZA(),g._uU(3," Retirer "),g.qZA()}}var N=function(t){return{"background-color":t}};function J(t,i){if(1&t&&(g.TgZ(0,"mat-expansion-panel",44),g.TgZ(1,"mat-expansion-panel-header",45),g.TgZ(2,"mat-panel-title",46),g._UZ(3,"img",47),g.TgZ(4,"p",48),g.TgZ(5,"b"),g._uU(6),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.TgZ(7,"mat-card-content",49),g.TgZ(8,"form",50),g.TgZ(9,"div",3),g.TgZ(10,"div",39),g.TgZ(11,"mat-form-field",51),g.TgZ(12,"mat-label"),g._uU(13,"Quantit\xe9"),g.qZA(),g._UZ(14,"input",52),g.qZA(),g.qZA(),g.TgZ(15,"div",39),g.TgZ(16,"mat-form-field",51),g.TgZ(17,"mat-label"),g._uU(18,"Prix unitaire"),g.qZA(),g._UZ(19,"input",53),g.qZA(),g.qZA(),g.TgZ(20,"div",39),g.YNc(21,U,4,0,"button",54),g.YNc(22,k,4,0,"button",55),g.qZA(),g.TgZ(23,"div",39),g.YNc(24,I,4,0,"button",56),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.qZA()),2&t){var e=i.$implicit,o=g.oxw(2);g.xp6(1),g.Q6J("ngStyle",g.VKq(9,N,e.isValid?"#00800030":"")),g.xp6(2),g.Q6J("src",e.img,g.LSH),g.xp6(3),g.Oqu(e.name),g.xp6(2),g.Q6J("formGroup",o.addArticleToCourseForm),g.xp6(6),g.Q6J("value",e.quantity),g.xp6(5),g.Q6J("value",e.price),g.xp6(2),g.Q6J("ngIf",!e.isValid),g.xp6(1),g.Q6J("ngIf",e.isValid),g.xp6(2),g.Q6J("ngIf",e.isValid)}}function O(t,i){if(1&t&&(g.TgZ(0,"div",21),g.TgZ(1,"div",38),g.TgZ(2,"div",39),g.TgZ(3,"h6",40),g._uU(4),g.qZA(),g.qZA(),g.qZA(),g.TgZ(5,"div",41),g.TgZ(6,"mat-accordion",42),g.YNc(7,J,25,11,"mat-expansion-panel",43),g.qZA(),g.qZA(),g.qZA()),2&t){var e=g.oxw();g.xp6(4),g.HOy(" ",e.depot," / ",e.category," / ",e.family," / ",e.type.name," "),g.xp6(3),g.Q6J("ngForOf",e.type.listArticle)("ngForTrackBy",e.byId)}}function D(t,i){if(1&t&&(g.TgZ(0,"div",30),g.TgZ(1,"a"),g.TgZ(2,"div",31),g.TgZ(3,"div",32),g._UZ(4,"img",33),g.qZA(),g.TgZ(5,"span",34),g._uU(6),g.qZA(),g.qZA(),g.qZA(),g.qZA()),2&t){var e=i.$implicit;g.xp6(4),g.s9C("src",e.img,g.LSH),g.xp6(2),g.Oqu(e.name)}}function S(t,i){if(1&t){var e=g.EpF();g.TgZ(0,"div",21),g.TgZ(1,"div",38),g.TgZ(2,"div",39),g.TgZ(3,"h6",40),g._uU(4),g.qZA(),g.qZA(),g.qZA(),g.TgZ(5,"div",41),g.TgZ(6,"div",24),g.TgZ(7,"a",60),g.NdJ("click",function(){return g.CHM(e),g.oxw().addNewArticleAction()}),g.TgZ(8,"div",26),g.TgZ(9,"div",27),g.TgZ(10,"mat-icon",28),g._uU(11,"add"),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.YNc(12,D,7,2,"div",61),g.qZA(),g.qZA(),g.qZA()}if(2&t){var o=g.oxw();g.xp6(4),g.HOy(" ",o.depot," / ",o.category," / ",o.family," / ",o.type.name," "),g.xp6(8),g.Q6J("ngForOf",o.type.listArticle)("ngForTrackBy",o.byId)}}function Q(t,i){if(1&t&&(g.TgZ(0,"div",85),g._UZ(1,"img",86),g.qZA()),2&t){var e=g.oxw(2);g.xp6(1),g.Q6J("src",e.imgFile,g.LSH)}}function Y(t,i){1&t&&(g.TgZ(0,"mat-error",87),g._uU(1," L'image est "),g.TgZ(2,"strong"),g._uU(3,"obligatoire"),g.qZA(),g.qZA())}function L(t,i){1&t&&(g.TgZ(0,"mat-error"),g._uU(1," La d\xe9signation est "),g.TgZ(2,"strong"),g._uU(3,"obligatoire"),g.qZA(),g.qZA())}function z(t,i){if(1&t){var e=g.EpF();g.TgZ(0,"mat-card",88),g.NdJ("click",function(){var t=g.CHM(e).$implicit;return g.oxw(2).selectUnity(t)}),g._uU(1),g.qZA()}if(2&t){var o=i.$implicit,r=g.oxw(2);g.Q6J("ngStyle",g.VKq(2,N,o===r.selectedUnity?"#00800030":"")),g.xp6(1),g.Oqu(o)}}function M(t,i){1&t&&(g.TgZ(0,"mat-error",89),g._uU(1," L'unit\xe9 est "),g.TgZ(2,"strong"),g._uU(3,"obligatoire"),g.qZA(),g.qZA())}function H(t,i){1&t&&(g.TgZ(0,"mat-error"),g._uU(1," La quantit\xe9 est "),g.TgZ(2,"strong"),g._uU(3,"obligatoire"),g.qZA(),g.qZA())}function j(t,i){if(1&t&&(g.TgZ(0,"div",3),g.TgZ(1,"div",39),g.TgZ(2,"mat-form-field",69),g.TgZ(3,"mat-label",70),g._uU(4,"Quantit\xe9"),g.qZA(),g._UZ(5,"input",90),g.YNc(6,H,4,0,"mat-error",72),g.qZA(),g.qZA(),g.qZA()),2&t){var e=g.oxw(2);g.xp6(6),g.Q6J("ngIf",e.addArticleForm.get("quantity").hasError("required"))}}var P=function(t){return{color:t,"font-size":"16px"}};function E(t,i){if(1&t){var e=g.EpF();g.TgZ(0,"div",21),g.TgZ(1,"div",22),g.TgZ(2,"h3",23),g._uU(3," Veuillez remplir la formulaire et cliquer sur confirmer "),g.qZA(),g.qZA(),g.TgZ(4,"div",24),g.YNc(5,Q,2,1,"div",62),g.TgZ(6,"div",63),g.TgZ(7,"div",64),g.TgZ(8,"button",65),g.NdJ("click",function(){return g.CHM(e),g.oxw().openInput()}),g.TgZ(9,"mat-icon"),g._uU(10,"image"),g.qZA(),g._uU(11," Choisir une image "),g.qZA(),g.TgZ(12,"input",66),g.NdJ("change",function(t){return g.CHM(e),g.oxw().onImageChange(t)}),g.qZA(),g.qZA(),g.YNc(13,Y,4,0,"mat-error",67),g.qZA(),g.TgZ(14,"form",68),g.TgZ(15,"div",3),g.TgZ(16,"div",39),g.TgZ(17,"mat-form-field",69),g.TgZ(18,"mat-label",70),g._uU(19,"D\xe9signation"),g.qZA(),g._UZ(20,"input",71),g.YNc(21,L,4,0,"mat-error",72),g.qZA(),g.qZA(),g.TgZ(22,"div",39),g.TgZ(23,"mat-form-field",69),g.TgZ(24,"mat-label",70),g._uU(25,"Marque"),g.qZA(),g._UZ(26,"input",73),g.qZA(),g.qZA(),g.qZA(),g.TgZ(27,"div",3),g.TgZ(28,"div",39),g.TgZ(29,"mat-label",74),g._uU(30,"Unit\xe9 *"),g.qZA(),g.TgZ(31,"div",75),g.YNc(32,z,2,4,"mat-card",76),g.qZA(),g.YNc(33,M,4,0,"mat-error",77),g.qZA(),g.qZA(),g.YNc(34,j,7,1,"div",78),g.TgZ(35,"div",3),g.TgZ(36,"div",79),g.TgZ(37,"mat-form-field",69),g.TgZ(38,"mat-label",70),g._uU(39,"Description"),g.qZA(),g._UZ(40,"textarea",80),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.TgZ(41,"div",81),g.TgZ(42,"div",82),g.TgZ(43,"button",83),g.NdJ("click",function(){return g.CHM(e),g.oxw().cancelAction()}),g.TgZ(44,"mat-icon"),g._uU(45,"clear"),g.qZA(),g._uU(46," Annuler "),g.qZA(),g.qZA(),g.TgZ(47,"div",82),g.TgZ(48,"button",84),g.NdJ("click",function(){return g.CHM(e),g.oxw().addArticleAction()}),g.TgZ(49,"mat-icon"),g._uU(50,"done"),g.qZA(),g._uU(51," Confirmer "),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.qZA()}if(2&t){var o=g.oxw();g.xp6(5),g.Q6J("ngIf",o.imgFile),g.xp6(8),g.Q6J("ngIf",o.submited&&!o.currentFile),g.xp6(1),g.Q6J("formGroup",o.addArticleForm),g.xp6(7),g.Q6J("ngIf",o.addArticleForm.get("name").hasError("required")),g.xp6(8),g.Q6J("ngStyle",g.VKq(8,P,!o.selectedUnity&&o.submited?"red":"#646a64")),g.xp6(3),g.Q6J("ngForOf",o.unities),g.xp6(1),g.Q6J("ngIf",!o.selectedUnity&&o.submited),g.xp6(1),g.Q6J("ngIf",o.isFromCourse)}}var B=function(){var i=function(){function i(t,o,r,n,a){var c=this;e(this,i),this.route=t,this.stockService=o,this.fb=r,this.snackBar=n,this.router=a,this.articles=[],this.addedArticles=[],this.depots=[],this.categories=[],this.families=[],this.types=[],this.chooseDepot=!0,this.chooseCategory=!1,this.chooseFamily=!1,this.chooseType=!1,this.addArticle=!1,this.unities=["Kg","L","Pi\xe8ce"],this.submited=!1,this.addNewArticle=!1,this.add=!1,this.isFromCourse=!1,this.getQuantity=function(t){return(localStorage.getItem("addedArticlesInStorage")?JSON.parse(localStorage.getItem("addedArticlesInStorage")):[]).forEach(function(i){if(i._id===t._id)return i.quantity}),t.quantity},this.chooseDepotAction=function(t){c.chooseDepot=!1,c.chooseCategory=!0,c.categories=t.listCategorys,c.depot=t.name},this.chooseCategoryAction=function(t){c.chooseCategory=!1,c.chooseFamily=!0,c.families=t.listFamily,c.category=t.name},this.chooseFamilyAction=function(t){c.chooseFamily=!1,c.chooseType=!0,c.types=t.listType,c.family=t.name},this.chooseTypeAction=function(t){c.chooseType=!1,c.addArticle=!0,c.type=t,c.articles=c.type.listArticle},this.selectUnity=function(t){c.selectedUnity=t},this.addArticleAction=function(){if(c.submited=!0,console.log(c.addArticleForm),!c.addArticleForm.invalid&&c.currentFile&&c.selectedUnity){var t=new FormData;t.append("file",c.currentFile?c.currentFile[0]:null),t.append("name",c.addArticleForm.get("name").value.trim()),t.append("marque",c.addArticleForm.get("marque").value.trim()),t.append("quantity",c.isFromCourse?c.addArticleForm.get("quantity").value:0),t.append("unity",c.selectedUnity),t.append("description",c.addArticleForm.get("description").value),t.append("idType",c.type._id),c.stockService.addArticle(t).subscribe(function(t){c.articles.push(t),console.log("resp>>>",t),c.showNotification("snackbar-success","L'article a \xe9t\xe9 ajout\xe9 avec succ\xe8s","top","end"),c.addArticle=!0,c.addNewArticle=!1})}else console.log("dzdzez")},this.addNewArticleAction=function(){c.addNewArticle=!0,c.addArticle=!1},this.backButtonAction=function(){c.addArticle?(c.addArticle=!1,c.chooseType=!0):c.chooseType?(c.chooseType=!1,c.chooseFamily=!0):c.chooseFamily?(c.chooseFamily=!1,c.chooseCategory=!0):c.chooseCategory?(c.chooseCategory=!1,c.chooseDepot=!0):c.addNewArticle?(c.addArticle=!0,c.addNewArticle=!1):c.isFromCourse&&c.router.navigate(["stock/courses/add"])},this.addArticleToCourse=function(t){var i=Object.assign(Object.assign({},t),{quantity:c.addArticleToCourseForm.get("quantity").value,price:c.addArticleToCourseForm.get("price").value,isHide:!0,totalPrice:c.addArticleToCourseForm.get("quantity").value*c.addArticleToCourseForm.get("price").value}),e=localStorage.getItem("addedArticlesInStorage")?JSON.parse(localStorage.getItem("addedArticlesInStorage")):[];e.push(i),localStorage.setItem("addedArticlesInStorage",JSON.stringify(e)),t.quantity=c.addArticleToCourseForm.get("quantity").value,t.price=c.addArticleToCourseForm.get("price").value,t.isValid=!0},this.removeArticleFromCourse=function(t){var i=localStorage.getItem("addedArticlesInStorage")?JSON.parse(localStorage.getItem("addedArticlesInStorage")):[];i=i.filter(function(i){return i._id!==t._id}),localStorage.setItem("addedArticlesInStorage",JSON.stringify(i)),t.quantity="",t.price="",t.isValid=!1},this.editArticle=function(t){var i=localStorage.getItem("addedArticlesInStorage")?JSON.parse(localStorage.getItem("addedArticlesInStorage")):[];i=i.forEach(function(i){i._id===t._id&&(i.quantity=c.addArticleToCourseForm.get("quantity").value,i.price=c.addArticleToCourseForm.get("price").value,i.totalPrice=c.addArticleToCourseForm.get("quantity").value*c.addArticleToCourseForm.get("price").value)}),localStorage.setItem("addedArticlesInStorage",JSON.stringify(i)),t.quantity=c.addArticleToCourseForm.get("quantity").value,t.price=c.addArticleToCourseForm.get("price").value},this.cancelAction=function(){c.isFromCourse&&c.router.navigate(["stock/courses/add"])};var d=this.router.getCurrentNavigation();this.isFromCourse=!!d.extras.state&&d.extras.state.isFromCourse,console.log(this.isFromCourse)}return r(i,[{key:"ngOnInit",value:function(){this.getListArticlesOfAllDepots(),this.addArticleForm=this.createAddArticleForm(),this.addArticleToCourseForm=this.createAddArticleToCourseForm()}},{key:"ngDoCheck",value:function(){this.add&&this.getListArticlesOfAllDepots()}},{key:"byId",value:function(t,i){return i._id}},{key:"createAddArticleForm",value:function(){return console.log(this.isFromCourse),this.fb.group(this.isFromCourse?{name:["",d.kI.required],description:[""],unity:[""],quantity:["",d.kI.required],marque:[""],file:[""]}:{name:["",d.kI.required],description:[""],unity:[""],marque:[""],file:[""]})}},{key:"createAddArticleToCourseForm",value:function(){return this.fb.group({quantity:["",d.kI.required],price:["",d.kI.required]})}},{key:"openInput",value:function(){document.getElementById("fileInput").click()}},{key:"onImageChange",value:function(i){var e=this,o=new FileReader;if(i.target.files&&i.target.files.length){var r=t(i.target.files,1)[0];this.currentFile=i.target.files,o.readAsDataURL(r),o.onload=function(){e.imgFile=o.result}}}},{key:"getListArticlesOfAllDepots",value:function(){var t=this;this.stockService.getListOfArticlesByAllDepot().pipe((0,l.q)(1)).subscribe(function(i){t.depots=i,console.log("Result getListArticlesOfAllDepots : ",i)})}},{key:"showNotification",value:function(t,i,e,o){this.snackBar.open(i,"",{duration:3e3,verticalPosition:e,horizontalPosition:o,panelClass:t})}}]),i}();return i.\u0275fac=function(t){return new(t||i)(g.Y36(c.gz),g.Y36(s.q),g.Y36(d.qu),g.Y36(u.ux),g.Y36(c.F0))},i.\u0275cmp=g.Xpm({type:i,selectors:[["app-add-article"]],decls:35,vars:8,consts:[[1,"content"],[1,"container-fluid"],[1,"block-header"],[1,"row"],[1,"col-xs-12","col-sm-12","col-md-12","col-lg-12"],[1,"breadcrumb","breadcrumb-style"],[1,"breadcrumb-item"],[1,"page-title"],[1,"breadcrumb-item","bcrumb-1"],[1,"fas","fa-home"],[1,"breadcrumb-item","active"],[1,"breadcrumb-item","bcrumb-3"],[1,"col-md-12","col-sm-12"],[1,"card",2,"height","100%"],[1,"card-body"],[2,"display","flex","justify-content","space-between"],[3,"click"],[2,"font-size","55px","color","rgb(50, 76, 228)","cursor","pointer"],["mat-fab","","color","primary",3,"click",4,"ngIf"],["class","row","style","padding: 30px",4,"ngIf"],["mat-fab","","color","primary",3,"click"],[1,"row",2,"padding","30px"],[1,"text-center","mt-3",2,"margin-bottom","30px"],[2,"font-weight","bold","font-family","open sans, sans-serif","font-size","30px"],[1,"row","mt-2","mb-5",2,"margin-top","30px"],["routerLink","/settings/depot/add",1,"col-lg-2","mb-3",3,"state"],[1,"boxDiv","text-center",2,"height","137.5px"],[2,"display","flex","justify-content","center","height","100%","align-items","center"],[2,"transform","scale(2)"],["class","col-lg-2 mb-3",4,"ngFor","ngForOf"],[1,"col-lg-2","mb-3"],[1,"boxDiv","text-center"],[2,"width","100%"],["alt","image","width","100%","height","80px",1,"image",3,"src"],[2,"margin-bottom","25px","align-self","flex-center","font-size","15px","margin-top","10px"],["routerLink","/settings/category/add",1,"col-lg-2","mb-3"],["routerLink","/settings/family/add",1,"col-lg-2","mb-3"],["routerLink","/settings/type/add",1,"col-lg-2","mb-3"],[1,"row",2,"margin-bottom","30px"],[1,"col"],[2,"margin-bottom","30px"],[1,"row","mb-7",2,"padding-top","10px"],["multi","",1,"example-headers-align"],["style","margin-bottom: 10px",4,"ngFor","ngForOf","ngForTrackBy"],[2,"margin-bottom","10px"],[1,"panel-header",3,"ngStyle"],[2,"align-items","center"],[1,"panel-image",3,"src"],[1,"no-margin","panel-title"],[2,"padding-top","20px"],[1,"row",2,"justify-content","center",3,"formGroup"],["appearance","outline",1,"no-margin",2,"width","100%"],["matInput","","type","number","name","quantity","formControlName","quantity",1,"no-margin",3,"value"],["matInput","","type","number","name","price","formControlName","price",1,"no-margin",3,"value"],["style","margin-top: 3px; height: 50px; width: 100%","mat-raised-button","","color","primary",3,"click",4,"ngIf"],["style","margin-top: 3px; height: 50px; width: 100%","mat-raised-button","","color","basic",3,"click",4,"ngIf"],["style","margin-top: 3px; height: 50px; width: 100%","mat-raised-button","","color","warn",3,"click",4,"ngIf"],["mat-raised-button","","color","primary",2,"margin-top","3px","height","50px","width","100%",3,"click"],["mat-raised-button","","color","basic",2,"margin-top","3px","height","50px","width","100%",3,"click"],["mat-raised-button","","color","warn",2,"margin-top","3px","height","50px","width","100%",3,"click"],[1,"col-lg-2","mb-3",3,"click"],["class","col-lg-2 mb-3",4,"ngFor","ngForOf","ngForTrackBy"],["class","preview","style","text-align: center; margin-bottom: 20px",4,"ngIf"],[1,"row",2,"height","50px"],[1,"col-lg-4","col-xs-12","col-sm-12","col-md-6"],["mat-raised-button","","color","primary",1,"full-width-btn",3,"click"],["id","fileInput","hidden","","type","file","name","file","accept",".jpg,.jpeg,.png",3,"change"],["style","margin-top: 5px; font-size: 75%; padding: 0 1em",4,"ngIf"],["id","addArticleForm",2,"margin-top","20px",3,"formGroup"],["appearance","outline",1,"mb-3",2,"width","100%"],[2,"font-size","16px"],["matInput","","formControlName","name","type","text","required","",1,"example-right-align",3,"value"],[4,"ngIf"],["matInput","","formControlName","marque","type","text",1,"example-right-align",3,"value"],[3,"ngStyle"],[2,"display","flex","flex-direction","row","margin","20px 0","justify-content","center"],["class","unity-card",3,"ngStyle","click",4,"ngFor","ngForOf"],["style","\n                          margin-top: 5px;\n                          font-size: 75%;\n                          padding: 0 1em;\n                          margin-bottom: 10px;\n                        ",4,"ngIf"],["class","row",4,"ngIf"],[1,"col-12"],["matInput","","formControlName","description",1,"example-right-align",3,"value"],[1,"row",2,"height","50px","margin-top","20px"],[1,"col-6"],["mat-raised-button","",1,"full-width-btn",3,"click"],["mat-raised-button","","color","primary","form","addArticleForm",1,"full-width-btn",3,"click"],[1,"preview",2,"text-align","center","margin-bottom","20px"],[2,"width","150px","height","150px","border-radius","12px",3,"src"],[2,"margin-top","5px","font-size","75%","padding","0 1em"],[1,"unity-card",3,"ngStyle","click"],[2,"margin-top","5px","font-size","75%","padding","0 1em","margin-bottom","10px"],["matInput","","formControlName","quantity","type","number",1,"example-right-align",3,"value"]],template:function(t,i){1&t&&(g.TgZ(0,"section",0),g.TgZ(1,"div",1),g.TgZ(2,"div",2),g.TgZ(3,"div",3),g.TgZ(4,"div",4),g.TgZ(5,"ul",5),g.TgZ(6,"li",6),g.TgZ(7,"h4",7),g._uU(8,"Stock"),g.qZA(),g.qZA(),g.TgZ(9,"li",8),g.TgZ(10,"a"),g._UZ(11,"i",9),g._uU(12,"Accueil"),g.qZA(),g.qZA(),g.TgZ(13,"li",10),g._uU(14,"Param\xe8tres"),g.qZA(),g.TgZ(15,"li",11),g._uU(16,"Article"),g.qZA(),g.TgZ(17,"li",11),g._uU(18,"Ajouter"),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.TgZ(19,"div",3),g.TgZ(20,"div",12),g.TgZ(21,"div",13),g.TgZ(22,"div",14),g.TgZ(23,"div",15),g.TgZ(24,"span",16),g.NdJ("click",function(){return i.backButtonAction()}),g.TgZ(25,"mat-icon",17),g._uU(26,"reply"),g.qZA(),g.qZA(),g.YNc(27,v,3,0,"button",18),g.qZA(),g.YNc(28,x,11,3,"div",19),g.YNc(29,b,11,1,"div",19),g.YNc(30,_,11,1,"div",19),g.YNc(31,C,11,1,"div",19),g.YNc(32,O,8,6,"div",19),g.YNc(33,S,13,6,"div",19),g.YNc(34,E,52,10,"div",19),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.qZA()),2&t&&(g.xp6(27),g.Q6J("ngIf",i.addArticle&&i.isFromCourse),g.xp6(1),g.Q6J("ngIf",i.chooseDepot),g.xp6(1),g.Q6J("ngIf",i.chooseCategory),g.xp6(1),g.Q6J("ngIf",i.chooseFamily),g.xp6(1),g.Q6J("ngIf",i.chooseType),g.xp6(1),g.Q6J("ngIf",i.addArticle&&i.isFromCourse),g.xp6(1),g.Q6J("ngIf",i.addArticle&&!i.isFromCourse),g.xp6(1),g.Q6J("ngIf",i.addNewArticle))},directives:[p.Hw,a.O5,m.lW,c.yS,a.sg,Z.pp,Z.ib,Z.yz,a.PC,Z.yK,f.dn,d._Y,d.JL,d.sg,A.KE,A.hX,h.Nt,d.wV,d.Fj,d.JJ,d.u,d.Q7,A.TO,f.a8],styles:[".boxDiv[_ngcontent-%COMP%]{display:flex;flex-direction:column;font-weight:700;color:#383838;border-radius:12px;box-shadow:.5px .5px 6px .5px #9e9e9e}img[_ngcontent-%COMP%]{border-top-right-radius:12px 12px;border-top-left-radius:12px 12px}.full-width-btn[_ngcontent-%COMP%]{width:100%;height:100%;padding:0}.unity-card[_ngcontent-%COMP%]{padding:20px;margin-right:10px;width:100px;text-align:center;cursor:pointer}.panel-image[_ngcontent-%COMP%]{width:80px;height:60px;border-radius:10px;margin-right:10px}@media (max-width:420px){.panel-image[_ngcontent-%COMP%]{width:50px;height:40px}.panel-title[_ngcontent-%COMP%]{font-size:12px}}@media (max-width:420px){[_nghost-%COMP%]     .mat-expansion-panel-header{padding-left:5px;padding-right:10px}}@media (max-width:420px){[_nghost-%COMP%]     .mat-expansion-panel-body{padding:0 10px 16px!important}}.no-margin[_ngcontent-%COMP%]{margin:0}.panel-header[_ngcontent-%COMP%]{height:80px;border-bottom:1px solid rgba(0,0,0,.14)}"]}),i}();function $(t,i){if(1&t){var e=g.EpF();g.TgZ(0,"div",25),g.TgZ(1,"a",26),g.NdJ("click",function(){var t=g.CHM(e).$implicit;return g.oxw(2).chooseDepotAction(t)}),g.TgZ(2,"div",27),g.TgZ(3,"div",28),g._UZ(4,"img",29),g.qZA(),g.TgZ(5,"span",30),g._uU(6),g.qZA(),g.qZA(),g.qZA(),g.qZA()}if(2&t){var o=i.$implicit;g.xp6(4),g.s9C("src",o.img,g.LSH),g.xp6(2),g.Oqu(o.name)}}var V=function(){return{isFromAddCategory:!0}};function R(t,i){if(1&t&&(g.TgZ(0,"div",16),g.TgZ(1,"div",17),g.TgZ(2,"h3",18),g._uU(3," Veuillez choisir un d\xe9p\xf4t pour continuer "),g.qZA(),g.qZA(),g.TgZ(4,"div",19),g.TgZ(5,"a",20),g.TgZ(6,"div",21),g.TgZ(7,"div",22),g.TgZ(8,"mat-icon",23),g._uU(9,"add"),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.YNc(10,$,7,2,"div",24),g.qZA(),g.qZA()),2&t){var e=g.oxw();g.xp6(5),g.Q6J("state",g.DdM(2,V)),g.xp6(5),g.Q6J("ngForOf",e.depots)}}function G(t,i){if(1&t&&(g.TgZ(0,"div",50),g._UZ(1,"img",51),g.qZA()),2&t){var e=g.oxw(2);g.xp6(1),g.Q6J("src",e.imgFile,g.LSH)}}function X(t,i){1&t&&(g.TgZ(0,"mat-error",52),g._uU(1," L'image est "),g.TgZ(2,"strong"),g._uU(3,"obligatoire"),g.qZA(),g.qZA())}function K(t,i){1&t&&(g.TgZ(0,"mat-error"),g._uU(1," La d\xe9signation de la cat\xe9gorie est "),g.TgZ(2,"strong"),g._uU(3,"obligatoire"),g.qZA(),g.qZA())}function W(t,i){if(1&t){var e=g.EpF();g.TgZ(0,"div",16),g.TgZ(1,"div"),g.TgZ(2,"span",26),g.NdJ("click",function(){return g.CHM(e),g.oxw().backButtonAction()}),g.TgZ(3,"mat-icon",31),g._uU(4,"reply"),g.qZA(),g.qZA(),g.qZA(),g.TgZ(5,"div",32),g.TgZ(6,"h3",33),g._uU(7," Veuillez remplir la formulaire puis cliquer sur confirmer "),g.qZA(),g.qZA(),g.YNc(8,G,2,1,"div",34),g.TgZ(9,"div",3),g.TgZ(10,"div",35),g.TgZ(11,"button",36),g.NdJ("click",function(){return g.CHM(e),g.oxw().openInput()}),g.TgZ(12,"mat-icon"),g._uU(13,"image"),g.qZA(),g._uU(14," Choisir une image "),g.qZA(),g.TgZ(15,"input",37),g.NdJ("change",function(t){return g.CHM(e),g.oxw().onImageChange(t)}),g.qZA(),g.YNc(16,X,4,0,"mat-error",38),g.qZA(),g.qZA(),g.TgZ(17,"form",39),g.TgZ(18,"div",3),g.TgZ(19,"div",40),g.TgZ(20,"mat-form-field",41),g.TgZ(21,"mat-label",42),g._uU(22,"D\xe9signation"),g.qZA(),g._UZ(23,"input",43),g.YNc(24,K,4,0,"mat-error",44),g.qZA(),g.qZA(),g.TgZ(25,"div",40),g.TgZ(26,"mat-form-field",41),g.TgZ(27,"mat-label",42),g._uU(28,"Description"),g.qZA(),g._UZ(29,"textarea",45),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.TgZ(30,"div",46),g.TgZ(31,"div",47),g.TgZ(32,"button",48),g.NdJ("click",function(){return g.CHM(e),g.oxw().cancelAction()}),g.TgZ(33,"mat-icon"),g._uU(34,"clear"),g.qZA(),g._uU(35," Annuler "),g.qZA(),g.qZA(),g.TgZ(36,"div",47),g.TgZ(37,"button",49),g.NdJ("click",function(){return g.CHM(e),g.oxw().addCategoryAction()}),g.TgZ(38,"mat-icon"),g._uU(39,"done"),g.qZA(),g._uU(40," Confirmer "),g.qZA(),g.qZA(),g.qZA(),g.qZA()}if(2&t){var o=g.oxw();g.xp6(8),g.Q6J("ngIf",o.imgFile),g.xp6(8),g.Q6J("ngIf",o.submited&&!o.currentFile),g.xp6(1),g.Q6J("formGroup",o.addCategoryForm),g.xp6(7),g.Q6J("ngIf",o.addCategoryForm.get("name").hasError("required"))}}var tt=function(){var i=function(){function i(t,o,r,n){var a=this;e(this,i),this.stockService=t,this.fb=o,this.router=r,this.snackBar=n,this.depots=[],this.chooseDepot=!0,this.addCategory=!1,this.submited=!1,this.isFromAddArticle=!1,this.isFromAddType=!1,this.isFromAddFamily=!1,this.chooseDepotAction=function(t){a.depot=t,a.chooseDepot=!1,a.addCategory=!0},this.addCategoryAction=function(){if(a.submited=!0,!a.addCategoryForm.invalid&&a.currentFile){var t=new FormData;t.append("file",a.currentFile?a.currentFile[0]:null),t.append("name",a.addCategoryForm.get("name").value.trim()),t.append("description",a.addCategoryForm.get("description").value),t.append("idDepot",a.depot._id),a.stockService.addCategory(t).subscribe(function(t){console.log("resp>>>",t),a.showNotification("snackbar-success","La cat\xe9gorie a \xe9t\xe9 ajout\xe9e avec succ\xe8s","top","end")})}},this.backButtonAction=function(){a.addCategory?(a.addCategory=!1,a.chooseDepot=!0):a.isFromAddArticle?a.router.navigate(["settings/article/add"]):a.isFromAddType?a.router.navigate(["settings/type/add"]):a.isFromAddFamily&&a.router.navigate(["settings/family/add"])},this.cancelAction=function(){};var c=this.router.getCurrentNavigation();this.isFromAddArticle=!!c.extras.state&&c.extras.state.isFromAddArticle,this.isFromAddType=!!c.extras.state&&c.extras.state.isFromAddType,this.isFromAddFamily=!!c.extras.state&&c.extras.state.isFromAddFamily}return r(i,[{key:"ngOnInit",value:function(){this.getListArticlesOfAllDepots(),this.addCategoryForm=this.createAddCategoryForm()}},{key:"openInput",value:function(){document.getElementById("fileInput").click()}},{key:"onImageChange",value:function(i){var e=this,o=new FileReader;if(i.target.files&&i.target.files.length){var r=t(i.target.files,1)[0];this.currentFile=i.target.files,o.readAsDataURL(r),o.onload=function(){e.imgFile=o.result}}}},{key:"createAddCategoryForm",value:function(){return this.fb.group({name:["",d.kI.required],description:[""],file:[""]})}},{key:"getListArticlesOfAllDepots",value:function(){var t=this;this.stockService.getListOfArticlesByAllDepot().pipe((0,l.q)(1)).subscribe(function(i){t.depots=i,console.log("Result getListArticlesOfAllDepots : ",i)})}},{key:"showNotification",value:function(t,i,e,o){this.snackBar.open(i,"",{duration:3e3,verticalPosition:e,horizontalPosition:o,panelClass:t})}}]),i}();return i.\u0275fac=function(t){return new(t||i)(g.Y36(s.q),g.Y36(d.qu),g.Y36(c.F0),g.Y36(u.ux))},i.\u0275cmp=g.Xpm({type:i,selectors:[["app-add-category"]],decls:25,vars:2,consts:[[1,"content"],[1,"container-fluid"],[1,"block-header"],[1,"row"],[1,"col-xs-12","col-sm-12","col-md-12","col-lg-12"],[1,"breadcrumb","breadcrumb-style"],[1,"breadcrumb-item"],[1,"page-title"],[1,"breadcrumb-item","bcrumb-1"],[1,"fas","fa-home"],[1,"breadcrumb-item","active"],[1,"breadcrumb-item","bcrumb-3"],[1,"col-md-12","col-sm-12"],[1,"card",2,"height","100%"],[1,"card-body"],["class","row","style","padding: 30px",4,"ngIf"],[1,"row",2,"padding","30px"],[1,"text-center","mt-3",2,"margin-bottom","30px"],[2,"font-weight","bold","font-family","open sans, sans-serif","font-size","30px"],[1,"row","mt-2","mb-5",2,"margin-top","30px"],["routerLink","/settings/depot/add",1,"col-lg-2","mb-3",3,"state"],[1,"boxDiv","text-center",2,"height","137.5px"],[2,"display","flex","justify-content","center","height","100%","align-items","center"],[2,"transform","scale(2)"],["class","col-lg-2 mb-3",4,"ngFor","ngForOf"],[1,"col-lg-2","mb-3"],[3,"click"],[1,"boxDiv","text-center"],[2,"width","100%"],["alt","image","width","100%","height","80px",1,"image",3,"src"],[2,"margin-bottom","25px","align-self","flex-center","font-size","15px","margin-top","10px"],[2,"font-size","55px","color","rgb(50, 76, 228)","cursor","pointer"],[1,"text-center","mt-3"],[2,"font-weight","bold","font-family","open sans, sans-serif","font-size","30px","margin-bottom","30px"],["class","preview","style","text-align: center; margin-bottom: 20px",4,"ngIf"],[1,"mb-3","col"],["mat-raised-button","","color","primary",3,"click"],["id","fileInput","hidden","","type","file","name","file","accept",".jpg,.jpeg,.png,.jfif","formControlName","file",3,"change"],["style","margin-top: 5px; font-size: 75%; padding: 0 1em",4,"ngIf"],["id","addCategoryForm",3,"formGroup"],[1,"col-12"],["appearance","outline",1,"mb-3",2,"width","100%"],[2,"font-size","16px"],["matInput","","formControlName","name","type","text","required","",1,"example-right-align",3,"value"],[4,"ngIf"],["matInput","","formControlName","description",1,"example-right-align",3,"value"],[1,"row",2,"height","50px","margin-top","20px"],[1,"col-6"],["mat-raised-button","",1,"full-width-btn",3,"click"],["mat-raised-button","","color","primary","form","addCategoryForm",1,"full-width-btn",3,"click"],[1,"preview",2,"text-align","center","margin-bottom","20px"],[2,"width","150px","height","150px","border-radius","12px",3,"src"],[2,"margin-top","5px","font-size","75%","padding","0 1em"]],template:function(t,i){1&t&&(g.TgZ(0,"section",0),g.TgZ(1,"div",1),g.TgZ(2,"div",2),g.TgZ(3,"div",3),g.TgZ(4,"div",4),g.TgZ(5,"ul",5),g.TgZ(6,"li",6),g.TgZ(7,"h4",7),g._uU(8,"Stock"),g.qZA(),g.qZA(),g.TgZ(9,"li",8),g.TgZ(10,"a"),g._UZ(11,"i",9),g._uU(12,"Accueil"),g.qZA(),g.qZA(),g.TgZ(13,"li",10),g._uU(14,"Param\xe8tres"),g.qZA(),g.TgZ(15,"li",11),g._uU(16,"Cat\xe9gorie"),g.qZA(),g.TgZ(17,"li",11),g._uU(18,"Ajouter"),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.TgZ(19,"div",3),g.TgZ(20,"div",12),g.TgZ(21,"div",13),g.TgZ(22,"div",14),g.YNc(23,R,11,3,"div",15),g.YNc(24,W,41,4,"div",15),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.qZA()),2&t&&(g.xp6(23),g.Q6J("ngIf",i.chooseDepot),g.xp6(1),g.Q6J("ngIf",i.addCategory))},directives:[a.O5,c.yS,p.Hw,a.sg,m.lW,d.Fj,d.JJ,d.u,d._Y,d.JL,d.sg,A.KE,A.hX,h.Nt,d.Q7,A.TO],styles:[".boxDiv[_ngcontent-%COMP%]{display:flex;flex-direction:column;font-weight:700;color:#383838;border-radius:12px;box-shadow:.5px .5px 6px .5px #9e9e9e}img[_ngcontent-%COMP%]{border-top-right-radius:12px 12px;border-top-left-radius:12px 12px}.full-width-btn[_ngcontent-%COMP%]{width:100%;height:100%;padding:0}"]}),i}();function it(t,i){if(1&t&&(g.TgZ(0,"div",33),g._UZ(1,"img",34),g.qZA()),2&t){var e=g.oxw();g.xp6(1),g.Q6J("src",e.imgFile,g.LSH)}}function et(t,i){1&t&&(g.TgZ(0,"mat-error",35),g._uU(1," L'image est "),g.TgZ(2,"strong"),g._uU(3,"obligatoire"),g.qZA(),g.qZA())}function ot(t,i){1&t&&(g.TgZ(0,"mat-error"),g._uU(1," La d\xe9signation de d\xe9pot est "),g.TgZ(2,"strong"),g._uU(3,"obligatoire"),g.qZA(),g.qZA())}var rt=function(){var i=function(){function i(t,o,r,n){var a=this;e(this,i),this.stockService=t,this.fb=o,this.router=r,this.snackBar=n,this.submited=!1,this.isFromAddArticle=!1,this.isFromAddType=!1,this.isFromAddFamily=!1,this.isFromAddCategory=!1,this.addDepot=function(){if(a.submited=!0,!a.addDepotForm.invalid&&a.currentFile){var t=new FormData;t.append("file",a.currentFile?a.currentFile[0]:null),t.append("name",a.addDepotForm.get("name").value.trim()),t.append("description",a.addDepotForm.get("description").value),a.stockService.addDepot(t).subscribe(function(t){console.log("resp>>>",t),a.showNotification("snackbar-success","Le d\xe9p\xf4t a \xe9t\xe9 ajout\xe9 avec succ\xe8s","top","end")})}},this.backButtonAction=function(){a.isFromAddArticle?a.router.navigate(["settings/article/add"]):a.isFromAddType?a.router.navigate(["settings/type/add"]):a.isFromAddFamily?a.router.navigate(["settings/family/add"]):a.isFromAddCategory&&a.router.navigate(["settings/category/add"])},this.cancelAction=function(){};var c=this.router.getCurrentNavigation();this.isFromAddArticle=!!c.extras.state&&c.extras.state.isFromAddArticle,this.isFromAddType=!!c.extras.state&&c.extras.state.isFromAddType,this.isFromAddFamily=!!c.extras.state&&c.extras.state.isFromAddFamily,this.isFromAddCategory=!!c.extras.state&&c.extras.state.isFromAddCategory}return r(i,[{key:"ngOnInit",value:function(){this.addDepotForm=this.createAddDepotForm()}},{key:"createAddDepotForm",value:function(){return this.fb.group({name:["",d.kI.required],description:[""],file:[""]})}},{key:"openInput",value:function(){document.getElementById("fileInput").click()}},{key:"onImageChange",value:function(i){var e=this,o=new FileReader;if(i.target.files&&i.target.files.length){var r=t(i.target.files,1)[0];this.currentFile=i.target.files,o.readAsDataURL(r),o.onload=function(){e.imgFile=o.result}}}},{key:"showNotification",value:function(t,i,e,o){this.snackBar.open(i,"",{duration:3e3,verticalPosition:e,horizontalPosition:o,panelClass:t})}}]),i}();return i.\u0275fac=function(t){return new(t||i)(g.Y36(s.q),g.Y36(d.qu),g.Y36(c.F0),g.Y36(u.ux))},i.\u0275cmp=g.Xpm({type:i,selectors:[["app-add-depot"]],decls:58,vars:4,consts:[[1,"content"],[1,"container-fluid"],[1,"block-header"],[1,"row"],[1,"col-xs-12","col-sm-12","col-md-12","col-lg-12"],[1,"breadcrumb","breadcrumb-style"],[1,"breadcrumb-item"],[1,"page-title"],[1,"breadcrumb-item","bcrumb-1"],[1,"fas","fa-home"],[1,"breadcrumb-item","active"],[1,"breadcrumb-item","bcrumb-3"],[1,"col-md-12","col-sm-12"],[1,"card",2,"height","100%"],[1,"card-body",2,"padding","30px"],[1,"text-center","mt-3"],[2,"font-weight","bold","font-family","open sans, sans-serif","font-size","30px","margin-bottom","30px"],["class","preview","style","text-align: center; margin-bottom: 20px",4,"ngIf"],[1,"mb-3","col"],["mat-raised-button","","color","primary",3,"click"],["id","fileInput","hidden","","type","file","name","file","accept",".jpg,.jpeg,.png,.jfif","formControlName","file",3,"change"],["style","margin-top: 5px; font-size: 75%; padding: 0 1em",4,"ngIf"],["id","addDepotForm",3,"formGroup"],[1,"col-12"],["appearance","outline",1,"mb-3",2,"width","100%"],[2,"font-size","16px"],["matInput","","formControlName","name","type","text","required","",1,"example-right-align",3,"value"],[4,"ngIf"],["matInput","","formControlName","description",1,"example-right-align",3,"value"],[1,"row",2,"height","50px","margin-top","20px"],[1,"col-6"],["mat-raised-button","",1,"full-width-btn",3,"click"],["mat-raised-button","","color","primary","form","addDepotForm",1,"full-width-btn",3,"click"],[1,"preview",2,"text-align","center","margin-bottom","20px"],[2,"width","150px","height","150px","border-radius","12px",3,"src"],[2,"margin-top","5px","font-size","75%","padding","0 1em"]],template:function(t,i){1&t&&(g.TgZ(0,"section",0),g.TgZ(1,"div",1),g.TgZ(2,"div",2),g.TgZ(3,"div",3),g.TgZ(4,"div",4),g.TgZ(5,"ul",5),g.TgZ(6,"li",6),g.TgZ(7,"h4",7),g._uU(8,"Parm\xe8tres"),g.qZA(),g.qZA(),g.TgZ(9,"li",8),g.TgZ(10,"a"),g._UZ(11,"i",9),g._uU(12,"Accueil"),g.qZA(),g.qZA(),g.TgZ(13,"li",10),g._uU(14,"Parm\xe8tres"),g.qZA(),g.TgZ(15,"li",11),g._uU(16,"D\xe9pots"),g.qZA(),g.TgZ(17,"li",11),g._uU(18,"Ajouter"),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.TgZ(19,"div",3),g.TgZ(20,"div",12),g.TgZ(21,"div",13),g.TgZ(22,"div",14),g.TgZ(23,"div",15),g.TgZ(24,"h3",16),g._uU(25," Veuillez remplir la formulaire puis cliquer sur confirmer "),g.qZA(),g.qZA(),g.YNc(26,it,2,1,"div",17),g.TgZ(27,"div",18),g.TgZ(28,"button",19),g.NdJ("click",function(){return i.openInput()}),g.TgZ(29,"mat-icon"),g._uU(30,"image"),g.qZA(),g._uU(31," Choisir une image "),g.qZA(),g.TgZ(32,"input",20),g.NdJ("change",function(t){return i.onImageChange(t)}),g.qZA(),g.YNc(33,et,4,0,"mat-error",21),g.qZA(),g.TgZ(34,"form",22),g.TgZ(35,"div",3),g.TgZ(36,"div",23),g.TgZ(37,"mat-form-field",24),g.TgZ(38,"mat-label",25),g._uU(39,"D\xe9signation"),g.qZA(),g._UZ(40,"input",26),g.YNc(41,ot,4,0,"mat-error",27),g.qZA(),g.qZA(),g.TgZ(42,"div",23),g.TgZ(43,"mat-form-field",24),g.TgZ(44,"mat-label",25),g._uU(45,"Description"),g.qZA(),g._UZ(46,"textarea",28),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.TgZ(47,"div",29),g.TgZ(48,"div",30),g.TgZ(49,"button",31),g.NdJ("click",function(){return i.cancelAction()}),g.TgZ(50,"mat-icon"),g._uU(51,"clear"),g.qZA(),g._uU(52," Annuler "),g.qZA(),g.qZA(),g.TgZ(53,"div",30),g.TgZ(54,"button",32),g.NdJ("click",function(){return i.addDepot()}),g.TgZ(55,"mat-icon"),g._uU(56,"done"),g.qZA(),g._uU(57," Confirmer "),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.qZA()),2&t&&(g.xp6(26),g.Q6J("ngIf",i.imgFile),g.xp6(7),g.Q6J("ngIf",i.submited&&!i.currentFile),g.xp6(1),g.Q6J("formGroup",i.addDepotForm),g.xp6(7),g.Q6J("ngIf",i.addDepotForm.get("name").hasError("required")))},directives:[a.O5,m.lW,p.Hw,d.Fj,d.JJ,d.u,d._Y,d.JL,d.sg,A.KE,A.hX,h.Nt,d.Q7,A.TO],styles:[".full-width-btn[_ngcontent-%COMP%]{width:100%;height:100%;padding:0}"]}),i}();function nt(t,i){if(1&t){var e=g.EpF();g.TgZ(0,"div",28),g.TgZ(1,"a",16),g.NdJ("click",function(){var t=g.CHM(e).$implicit;return g.oxw(2).chooseDepotAction(t)}),g.TgZ(2,"div",29),g.TgZ(3,"div",30),g._UZ(4,"img",31),g.qZA(),g.TgZ(5,"span",32),g._uU(6),g.qZA(),g.qZA(),g.qZA(),g.qZA()}if(2&t){var o=i.$implicit;g.xp6(4),g.s9C("src",o.img,g.LSH),g.xp6(2),g.Oqu(o.name)}}var at=function(){return{isFromAddFamily:!0}};function ct(t,i){if(1&t&&(g.TgZ(0,"div",19),g.TgZ(1,"div",20),g.TgZ(2,"h3",21),g._uU(3," Veuillez choisir un d\xe9p\xf4t pour continuer "),g.qZA(),g.qZA(),g.TgZ(4,"div",22),g.TgZ(5,"a",23),g.TgZ(6,"div",24),g.TgZ(7,"div",25),g.TgZ(8,"mat-icon",26),g._uU(9,"add"),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.YNc(10,nt,7,2,"div",27),g.qZA(),g.qZA()),2&t){var e=g.oxw();g.xp6(5),g.Q6J("state",g.DdM(2,at)),g.xp6(5),g.Q6J("ngForOf",e.depots)}}function dt(t,i){if(1&t){var e=g.EpF();g.TgZ(0,"div",28),g.TgZ(1,"a",16),g.NdJ("click",function(){var t=g.CHM(e).$implicit;return g.oxw(2).chooseCategoryAction(t)}),g.TgZ(2,"div",29),g.TgZ(3,"div",30),g._UZ(4,"img",31),g.qZA(),g.TgZ(5,"span",32),g._uU(6),g.qZA(),g.qZA(),g.qZA(),g.qZA()}if(2&t){var o=i.$implicit;g.xp6(4),g.s9C("src",o.img,g.LSH),g.xp6(2),g.Oqu(o.name)}}function lt(t,i){if(1&t&&(g.TgZ(0,"div",19),g.TgZ(1,"div",20),g.TgZ(2,"h3",21),g._uU(3," Veuillez choisir une cat\xe9gorie pour continuer "),g.qZA(),g.qZA(),g.TgZ(4,"div",22),g.TgZ(5,"a",33),g.TgZ(6,"div",24),g.TgZ(7,"div",25),g.TgZ(8,"mat-icon",26),g._uU(9,"add"),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.YNc(10,dt,7,2,"div",27),g.qZA(),g.qZA()),2&t){var e=g.oxw();g.xp6(10),g.Q6J("ngForOf",e.categories)}}function gt(t,i){if(1&t&&(g.TgZ(0,"div",52),g._UZ(1,"img",53),g.qZA()),2&t){var e=g.oxw(2);g.xp6(1),g.Q6J("src",e.imgFile,g.LSH)}}function st(t,i){1&t&&(g.TgZ(0,"mat-error",54),g._uU(1," L'image est "),g.TgZ(2,"strong"),g._uU(3,"obligatoire"),g.qZA(),g.qZA())}function ut(t,i){1&t&&(g.TgZ(0,"mat-error"),g._uU(1," La d\xe9signation de la famille est "),g.TgZ(2,"strong"),g._uU(3,"obligatoire"),g.qZA(),g.qZA())}function pt(t,i){if(1&t){var e=g.EpF();g.TgZ(0,"div",19),g.TgZ(1,"div",34),g.TgZ(2,"h3",35),g._uU(3," Veuillez remplir la formulaire puis cliquer sur confirmer "),g.qZA(),g.qZA(),g.YNc(4,gt,2,1,"div",36),g.TgZ(5,"div",3),g.TgZ(6,"div",37),g.TgZ(7,"button",38),g.NdJ("click",function(){return g.CHM(e),g.oxw().openInput()}),g.TgZ(8,"mat-icon"),g._uU(9,"image"),g.qZA(),g._uU(10," Choisir une image "),g.qZA(),g.TgZ(11,"input",39),g.NdJ("change",function(t){return g.CHM(e),g.oxw().onImageChange(t)}),g.qZA(),g.YNc(12,st,4,0,"mat-error",40),g.qZA(),g.qZA(),g.TgZ(13,"form",41),g.TgZ(14,"div",3),g.TgZ(15,"div",42),g.TgZ(16,"mat-form-field",43),g.TgZ(17,"mat-label",44),g._uU(18,"D\xe9signation"),g.qZA(),g._UZ(19,"input",45),g.YNc(20,ut,4,0,"mat-error",46),g.qZA(),g.qZA(),g.TgZ(21,"div",42),g.TgZ(22,"mat-form-field",43),g.TgZ(23,"mat-label",44),g._uU(24,"Description"),g.qZA(),g._UZ(25,"textarea",47),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.TgZ(26,"div",48),g.TgZ(27,"div",49),g.TgZ(28,"button",50),g.TgZ(29,"mat-icon"),g._uU(30,"clear"),g.qZA(),g._uU(31," Annuler "),g.qZA(),g.qZA(),g.TgZ(32,"div",49),g.TgZ(33,"button",51),g.NdJ("click",function(){return g.CHM(e),g.oxw().addFamilyAction()}),g.TgZ(34,"mat-icon"),g._uU(35,"done"),g.qZA(),g._uU(36," Confirmer "),g.qZA(),g.qZA(),g.qZA(),g.qZA()}if(2&t){var o=g.oxw();g.xp6(4),g.Q6J("ngIf",o.imgFile),g.xp6(8),g.Q6J("ngIf",o.submited&&!o.currentFile),g.xp6(1),g.Q6J("formGroup",o.addFamilyForm),g.xp6(7),g.Q6J("ngIf",o.addFamilyForm.get("name").hasError("required"))}}var mt=function(){var i=function(){function i(t,o,r,n){var a=this;e(this,i),this.stockService=t,this.fb=o,this.router=r,this.snackBar=n,this.depots=[],this.categories=[],this.chooseDepot=!0,this.chooseCategory=!1,this.addFamily=!1,this.submited=!1,this.isFromAddArticle=!1,this.isFromAddType=!1,this.chooseDepotAction=function(t){a.chooseDepot=!1,a.chooseCategory=!0,a.categories=t.listCategorys},this.chooseCategoryAction=function(t){a.chooseCategory=!1,a.addFamily=!0,a.category=t},this.addFamilyAction=function(){if(a.submited=!0,!a.addFamilyForm.invalid&&a.currentFile){var t=new FormData;t.append("file",a.currentFile?a.currentFile[0]:null),t.append("name",a.addFamilyForm.get("name").value.trim()),t.append("description",a.addFamilyForm.get("description").value),t.append("idCategory",a.category._id),a.stockService.addFamily(t).subscribe(function(t){console.log("resp>>>",t),a.showNotification("snackbar-success","La famille a \xe9t\xe9 ajout\xe9e avec succ\xe8s","top","end")})}},this.backButtonAction=function(){a.addFamily?(a.addFamily=!1,a.chooseCategory=!0):a.chooseCategory&&(a.chooseCategory=!1,a.chooseDepot=!0)},this.cancelAction=function(){};var c=this.router.getCurrentNavigation();this.isFromAddArticle=!!c.extras.state&&c.extras.state.isFromAddArticle,this.isFromAddType=!!c.extras.state&&c.extras.state.isFromAddType}return r(i,[{key:"ngOnInit",value:function(){this.getListArticlesOfAllDepots(),this.addFamilyForm=this.createAddFamilyForm()}},{key:"createAddFamilyForm",value:function(){return this.fb.group({name:["",d.kI.required],description:[""],file:[""]})}},{key:"openInput",value:function(){document.getElementById("fileInput").click()}},{key:"onImageChange",value:function(i){var e=this,o=new FileReader;if(i.target.files&&i.target.files.length){var r=t(i.target.files,1)[0];this.currentFile=i.target.files,o.readAsDataURL(r),o.onload=function(){e.imgFile=o.result}}}},{key:"getListArticlesOfAllDepots",value:function(){var t=this;this.stockService.getListOfArticlesByAllDepot().pipe((0,l.q)(1)).subscribe(function(i){t.depots=i,console.log("Result getListArticlesOfAllDepots : ",i)})}},{key:"showNotification",value:function(t,i,e,o){this.snackBar.open(i,"",{duration:3e3,verticalPosition:e,horizontalPosition:o,panelClass:t})}}]),i}();return i.\u0275fac=function(t){return new(t||i)(g.Y36(s.q),g.Y36(d.qu),g.Y36(c.F0),g.Y36(u.ux))},i.\u0275cmp=g.Xpm({type:i,selectors:[["app-add-family"]],decls:30,vars:3,consts:[[1,"content"],[1,"container-fluid"],[1,"block-header"],[1,"row"],[1,"col-xs-12","col-sm-12","col-md-12","col-lg-12"],[1,"breadcrumb","breadcrumb-style"],[1,"breadcrumb-item"],[1,"page-title"],[1,"breadcrumb-item","bcrumb-1"],[1,"fas","fa-home"],[1,"breadcrumb-item","active"],[1,"breadcrumb-item","bcrumb-3"],[1,"col-md-12","col-sm-12"],[1,"card",2,"height","100%"],[1,"card-body"],[2,"display","flex","justify-content","space-between"],[3,"click"],[2,"font-size","55px","color","rgb(50, 76, 228)","cursor","pointer"],["class","row","style","padding: 30px",4,"ngIf"],[1,"row",2,"padding","30px"],[1,"text-center","mt-3",2,"margin-bottom","30px"],[2,"font-weight","bold","font-family","open sans, sans-serif","font-size","30px"],[1,"row","mt-2","mb-5",2,"margin-top","30px"],["routerLink","/settings/depot/add",1,"col-lg-2","mb-3",3,"state"],[1,"boxDiv","text-center",2,"height","137.5px"],[2,"display","flex","justify-content","center","height","100%","align-items","center"],[2,"transform","scale(2)"],["class","col-lg-2 mb-3",4,"ngFor","ngForOf"],[1,"col-lg-2","mb-3"],[1,"boxDiv","text-center"],[2,"width","100%"],["alt","image","width","100%","height","80px",1,"image",3,"src"],[2,"margin-bottom","25px","align-self","flex-center","font-size","15px","margin-top","10px"],["routerLink","/settings/category/add",1,"col-lg-2","mb-3"],[1,"text-center","mt-3"],[2,"font-weight","bold","font-family","open sans, sans-serif","font-size","30px","margin-bottom","30px"],["class","preview","style","text-align: center; margin-bottom: 20px",4,"ngIf"],[1,"mb-3","col"],["mat-raised-button","","color","primary",3,"click"],["id","fileInput","hidden","","type","file","name","file","accept",".jpg,.jpeg,.png,.jfif","formControlName","file",3,"change"],["style","margin-top: 5px; font-size: 75%; padding: 0 1em",4,"ngIf"],["id","addFamilyForm",3,"formGroup"],[1,"col-12"],["appearance","outline",1,"mb-3",2,"width","100%"],[2,"font-size","16px"],["matInput","","formControlName","name","type","text","required","",1,"example-right-align",3,"value"],[4,"ngIf"],["matInput","","formControlName","description",1,"example-right-align",3,"value"],[1,"row",2,"height","50px","margin-top","20px"],[1,"col-6"],["mat-raised-button","",1,"full-width-btn"],["mat-raised-button","","color","primary","form","addFamilyForm",1,"full-width-btn",3,"click"],[1,"preview",2,"text-align","center","margin-bottom","20px"],[2,"width","150px","height","150px","border-radius","12px",3,"src"],[2,"margin-top","5px","font-size","75%","padding","0 1em"]],template:function(t,i){1&t&&(g.TgZ(0,"section",0),g.TgZ(1,"div",1),g.TgZ(2,"div",2),g.TgZ(3,"div",3),g.TgZ(4,"div",4),g.TgZ(5,"ul",5),g.TgZ(6,"li",6),g.TgZ(7,"h4",7),g._uU(8,"Stock"),g.qZA(),g.qZA(),g.TgZ(9,"li",8),g.TgZ(10,"a"),g._UZ(11,"i",9),g._uU(12,"Accueil"),g.qZA(),g.qZA(),g.TgZ(13,"li",10),g._uU(14,"Param\xe8tres"),g.qZA(),g.TgZ(15,"li",11),g._uU(16,"Famille"),g.qZA(),g.TgZ(17,"li",11),g._uU(18,"Ajouter"),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.TgZ(19,"div",3),g.TgZ(20,"div",12),g.TgZ(21,"div",13),g.TgZ(22,"div",14),g.TgZ(23,"div",15),g.TgZ(24,"span",16),g.NdJ("click",function(){return i.backButtonAction()}),g.TgZ(25,"mat-icon",17),g._uU(26,"reply"),g.qZA(),g.qZA(),g.qZA(),g.YNc(27,ct,11,3,"div",18),g.YNc(28,lt,11,1,"div",18),g.YNc(29,pt,37,4,"div",18),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.qZA()),2&t&&(g.xp6(27),g.Q6J("ngIf",i.chooseDepot),g.xp6(1),g.Q6J("ngIf",i.chooseCategory),g.xp6(1),g.Q6J("ngIf",i.addFamily))},directives:[p.Hw,a.O5,c.yS,a.sg,m.lW,d.Fj,d.JJ,d.u,d._Y,d.JL,d.sg,A.KE,A.hX,h.Nt,d.Q7,A.TO],styles:[".boxDiv[_ngcontent-%COMP%]{display:flex;flex-direction:column;font-weight:700;color:#383838;border-radius:12px;box-shadow:.5px .5px 6px .5px #9e9e9e}img[_ngcontent-%COMP%]{border-top-right-radius:12px 12px;border-top-left-radius:12px 12px}.full-width-btn[_ngcontent-%COMP%]{width:100%;height:100%;padding:0}"]}),i}();function Zt(t,i){if(1&t){var e=g.EpF();g.TgZ(0,"div",25),g.TgZ(1,"a",26),g.NdJ("click",function(){var t=g.CHM(e).$implicit;return g.oxw(2).chooseDepotAction(t)}),g.TgZ(2,"div",27),g.TgZ(3,"div",28),g._UZ(4,"img",29),g.qZA(),g.TgZ(5,"span",30),g._uU(6),g.qZA(),g.qZA(),g.qZA(),g.qZA()}if(2&t){var o=i.$implicit;g.xp6(4),g.s9C("src",o.img,g.LSH),g.xp6(2),g.Oqu(o.name)}}var ft=function(){return{isFromAddType:!0}};function At(t,i){if(1&t&&(g.TgZ(0,"div",16),g.TgZ(1,"div",17),g.TgZ(2,"h3",18),g._uU(3," Veuillez choisir un d\xe9p\xf4t pour continuer "),g.qZA(),g.qZA(),g.TgZ(4,"div",19),g.TgZ(5,"a",20),g.TgZ(6,"div",21),g.TgZ(7,"div",22),g.TgZ(8,"mat-icon",23),g._uU(9,"add"),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.YNc(10,Zt,7,2,"div",24),g.qZA(),g.qZA()),2&t){var e=g.oxw();g.xp6(5),g.Q6J("state",g.DdM(2,ft)),g.xp6(5),g.Q6J("ngForOf",e.depots)}}function ht(t,i){if(1&t){var e=g.EpF();g.TgZ(0,"div",25),g.TgZ(1,"a",26),g.NdJ("click",function(){var t=g.CHM(e).$implicit;return g.oxw(2).chooseCategoryAction(t)}),g.TgZ(2,"div",27),g.TgZ(3,"div",28),g._UZ(4,"img",29),g.qZA(),g.TgZ(5,"span",30),g._uU(6),g.qZA(),g.qZA(),g.qZA(),g.qZA()}if(2&t){var o=i.$implicit;g.xp6(4),g.s9C("src",o.img,g.LSH),g.xp6(2),g.Oqu(o.name)}}function vt(t,i){if(1&t){var e=g.EpF();g.TgZ(0,"div",16),g.TgZ(1,"div"),g.TgZ(2,"span",26),g.NdJ("click",function(){return g.CHM(e),g.oxw().backButtonAction()}),g.TgZ(3,"mat-icon",31),g._uU(4,"reply"),g.qZA(),g.qZA(),g.qZA(),g.TgZ(5,"div",17),g.TgZ(6,"h3",18),g._uU(7," Veuillez choisir une cat\xe9gorie pour continuer "),g.qZA(),g.qZA(),g.TgZ(8,"div",19),g.TgZ(9,"a",32),g.TgZ(10,"div",21),g.TgZ(11,"div",22),g.TgZ(12,"mat-icon",23),g._uU(13,"add"),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.YNc(14,ht,7,2,"div",24),g.qZA(),g.qZA()}if(2&t){var o=g.oxw();g.xp6(14),g.Q6J("ngForOf",o.categories)}}function qt(t,i){if(1&t){var e=g.EpF();g.TgZ(0,"div",25),g.TgZ(1,"a",26),g.NdJ("click",function(){var t=g.CHM(e).$implicit;return g.oxw(2).chooseFamilyAction(t)}),g.TgZ(2,"div",27),g.TgZ(3,"div",28),g._UZ(4,"img",29),g.qZA(),g.TgZ(5,"span",30),g._uU(6),g.qZA(),g.qZA(),g.qZA(),g.qZA()}if(2&t){var o=i.$implicit;g.xp6(4),g.s9C("src",o.img,g.LSH),g.xp6(2),g.Oqu(o.name)}}function Tt(t,i){if(1&t){var e=g.EpF();g.TgZ(0,"div",16),g.TgZ(1,"div"),g.TgZ(2,"span",26),g.NdJ("click",function(){return g.CHM(e),g.oxw().backButtonAction()}),g.TgZ(3,"mat-icon",31),g._uU(4,"reply"),g.qZA(),g.qZA(),g.qZA(),g.TgZ(5,"div",17),g.TgZ(6,"h3",18),g._uU(7," Veuillez choisir une famille pour continuer "),g.qZA(),g.qZA(),g.TgZ(8,"div",19),g.TgZ(9,"a",33),g.TgZ(10,"div",21),g.TgZ(11,"div",22),g.TgZ(12,"mat-icon",23),g._uU(13,"add"),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.YNc(14,qt,7,2,"div",24),g.qZA(),g.qZA()}if(2&t){var o=g.oxw();g.xp6(14),g.Q6J("ngForOf",o.families)}}function xt(t,i){if(1&t&&(g.TgZ(0,"div",52),g._UZ(1,"img",53),g.qZA()),2&t){var e=g.oxw(2);g.xp6(1),g.Q6J("src",e.imgFile,g.LSH)}}function yt(t,i){1&t&&(g.TgZ(0,"mat-error",54),g._uU(1," L'image est "),g.TgZ(2,"strong"),g._uU(3,"obligatoire"),g.qZA(),g.qZA())}function bt(t,i){1&t&&(g.TgZ(0,"mat-error"),g._uU(1," La d\xe9signation de type est "),g.TgZ(2,"strong"),g._uU(3,"obligatoire"),g.qZA(),g.qZA())}function Ft(t,i){if(1&t){var e=g.EpF();g.TgZ(0,"div",16),g.TgZ(1,"div"),g.TgZ(2,"span",26),g.NdJ("click",function(){return g.CHM(e),g.oxw().backButtonAction()}),g.TgZ(3,"mat-icon",31),g._uU(4,"reply"),g.qZA(),g.qZA(),g.qZA(),g.TgZ(5,"div",34),g.TgZ(6,"h3",35),g._uU(7," Veuillez remplir la formulaire puis cliquer sur confirmer "),g.qZA(),g.qZA(),g.YNc(8,xt,2,1,"div",36),g.TgZ(9,"div",3),g.TgZ(10,"div",37),g.TgZ(11,"button",38),g.NdJ("click",function(){return g.CHM(e),g.oxw().openInput()}),g.TgZ(12,"mat-icon"),g._uU(13,"image"),g.qZA(),g._uU(14," Choisir une image "),g.qZA(),g.TgZ(15,"input",39),g.NdJ("change",function(t){return g.CHM(e),g.oxw().onImageChange(t)}),g.qZA(),g.YNc(16,yt,4,0,"mat-error",40),g.qZA(),g.qZA(),g.TgZ(17,"form",41),g.TgZ(18,"div",3),g.TgZ(19,"div",42),g.TgZ(20,"mat-form-field",43),g.TgZ(21,"mat-label",44),g._uU(22,"D\xe9signation"),g.qZA(),g._UZ(23,"input",45),g.YNc(24,bt,4,0,"mat-error",46),g.qZA(),g.qZA(),g.TgZ(25,"div",42),g.TgZ(26,"mat-form-field",43),g.TgZ(27,"mat-label",44),g._uU(28,"Description"),g.qZA(),g._UZ(29,"textarea",47),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.TgZ(30,"div",48),g.TgZ(31,"div",49),g.TgZ(32,"button",50),g.TgZ(33,"mat-icon"),g._uU(34,"clear"),g.qZA(),g._uU(35," Annuler "),g.qZA(),g.qZA(),g.TgZ(36,"div",49),g.TgZ(37,"button",51),g.NdJ("click",function(){return g.CHM(e),g.oxw().addTypeAction()}),g.TgZ(38,"mat-icon"),g._uU(39,"done"),g.qZA(),g._uU(40," Confirmer "),g.qZA(),g.qZA(),g.qZA(),g.qZA()}if(2&t){var o=g.oxw();g.xp6(8),g.Q6J("ngIf",o.imgFile),g.xp6(8),g.Q6J("ngIf",o.submited&&!o.currentFile),g.xp6(1),g.Q6J("formGroup",o.addTypeForm),g.xp6(7),g.Q6J("ngIf",o.addTypeForm.get("name").hasError("required"))}}var _t,wt,Ct=[{path:"article/add",component:B},{path:"type/add",component:(_t=function(){function i(t,o,r,n){var a=this;e(this,i),this.stockService=t,this.fb=o,this.router=r,this.snackBar=n,this.depots=[],this.categories=[],this.families=[],this.chooseDepot=!0,this.chooseCategory=!1,this.chooseFamily=!1,this.addType=!1,this.submited=!1,this.chooseDepotAction=function(t){a.chooseDepot=!1,a.chooseCategory=!0,a.categories=t.listCategorys},this.chooseCategoryAction=function(t){a.chooseCategory=!1,a.chooseFamily=!0,a.families=t.listFamily},this.chooseFamilyAction=function(t){a.chooseFamily=!1,a.addType=!0,a.family=t},this.addTypeAction=function(){if(a.submited=!0,!a.addTypeForm.invalid&&a.currentFile){var t=new FormData;t.append("file",a.currentFile?a.currentFile[0]:null),t.append("name",a.addTypeForm.get("name").value.trim()),t.append("description",a.addTypeForm.get("description").value),t.append("idFamily",a.family._id),a.stockService.addType(t).subscribe(function(t){console.log("resp>>>",t),a.showNotification("snackbar-success","Le type a \xe9t\xe9 ajout\xe9 avec succ\xe8s","top","end")})}},this.backButtonAction=function(){a.addType?(a.addType=!1,a.chooseFamily=!0):a.chooseFamily?(a.chooseFamily=!1,a.chooseCategory=!0):a.chooseCategory?(a.chooseCategory=!1,a.chooseDepot=!0):a.router.navigate(["settings/article/add"])},this.cancelAction=function(){}}return r(i,[{key:"ngOnInit",value:function(){this.getListArticlesOfAllDepots(),this.addTypeForm=this.createAddTypeForm()}},{key:"createAddTypeForm",value:function(){return this.fb.group({name:["",d.kI.required],description:[""],file:[""]})}},{key:"openInput",value:function(){document.getElementById("fileInput").click()}},{key:"onImageChange",value:function(i){var e=this,o=new FileReader;if(i.target.files&&i.target.files.length){var r=t(i.target.files,1)[0];this.currentFile=i.target.files,o.readAsDataURL(r),o.onload=function(){e.imgFile=o.result}}}},{key:"getListArticlesOfAllDepots",value:function(){var t=this;this.stockService.getListOfArticlesByAllDepot().pipe((0,l.q)(1)).subscribe(function(i){t.depots=i,console.log("Result getListArticlesOfAllDepots : ",i)})}},{key:"showNotification",value:function(t,i,e,o){this.snackBar.open(i,"",{duration:3e3,verticalPosition:e,horizontalPosition:o,panelClass:t})}}]),i}(),_t.\u0275fac=function(t){return new(t||_t)(g.Y36(s.q),g.Y36(d.qu),g.Y36(c.F0),g.Y36(u.ux))},_t.\u0275cmp=g.Xpm({type:_t,selectors:[["app-add-type"]],decls:27,vars:4,consts:[[1,"content"],[1,"container-fluid"],[1,"block-header"],[1,"row"],[1,"col-xs-12","col-sm-12","col-md-12","col-lg-12"],[1,"breadcrumb","breadcrumb-style"],[1,"breadcrumb-item"],[1,"page-title"],[1,"breadcrumb-item","bcrumb-1"],[1,"fas","fa-home"],[1,"breadcrumb-item","active"],[1,"breadcrumb-item","bcrumb-3"],[1,"col-md-12","col-sm-12"],[1,"card",2,"height","100%"],[1,"card-body"],["class","row","style","padding: 30px",4,"ngIf"],[1,"row",2,"padding","30px"],[1,"text-center","mt-3",2,"margin-bottom","30px"],[2,"font-weight","bold","font-family","open sans, sans-serif","font-size","30px"],[1,"row","mt-2","mb-5",2,"margin-top","30px"],["routerLink","/settings/depot/add",1,"col-lg-2","mb-3",3,"state"],[1,"boxDiv","text-center",2,"height","137.5px"],[2,"display","flex","justify-content","center","height","100%","align-items","center"],[2,"transform","scale(2)"],["class","col-lg-2 mb-3",4,"ngFor","ngForOf"],[1,"col-lg-2","mb-3"],[3,"click"],[1,"boxDiv","text-center"],[2,"width","100%"],["alt","image","width","100%","height","80px",1,"image",3,"src"],[2,"margin-bottom","25px","align-self","flex-center","font-size","15px","margin-top","10px"],[2,"font-size","55px","color","rgb(50, 76, 228)","cursor","pointer"],["routerLink","/settings/category/add",1,"col-lg-2","mb-3"],["routerLink","/settings/family/add",1,"col-lg-2","mb-3"],[1,"text-center","mt-3"],[2,"font-weight","bold","font-family","open sans, sans-serif","font-size","30px","margin-bottom","30px"],["class","preview","style","text-align: center; margin-bottom: 20px",4,"ngIf"],[1,"mb-3","col"],["mat-raised-button","","color","primary",3,"click"],["id","fileInput","hidden","","type","file","name","file","accept",".jpg,.jpeg,.png,.jfif","formControlName","file",3,"change"],["style","margin-top: 5px; font-size: 75%; padding: 0 1em",4,"ngIf"],["id","addTypeForm",3,"formGroup"],[1,"col-12"],["appearance","outline",1,"mb-3",2,"width","100%"],[2,"font-size","16px"],["matInput","","formControlName","name","type","text","required","",1,"example-right-align",3,"value"],[4,"ngIf"],["matInput","","formControlName","description",1,"example-right-align",3,"value"],[1,"row",2,"height","50px","margin-top","20px"],[1,"col-6"],["mat-raised-button","",1,"full-width-btn"],["mat-raised-button","","color","primary","form","addTypeForm",1,"full-width-btn",3,"click"],[1,"preview",2,"text-align","center","margin-bottom","20px"],[2,"width","150px","height","150px","border-radius","12px",3,"src"],[2,"margin-top","5px","font-size","75%","padding","0 1em"]],template:function(t,i){1&t&&(g.TgZ(0,"section",0),g.TgZ(1,"div",1),g.TgZ(2,"div",2),g.TgZ(3,"div",3),g.TgZ(4,"div",4),g.TgZ(5,"ul",5),g.TgZ(6,"li",6),g.TgZ(7,"h4",7),g._uU(8,"Stock"),g.qZA(),g.qZA(),g.TgZ(9,"li",8),g.TgZ(10,"a"),g._UZ(11,"i",9),g._uU(12,"Accueil"),g.qZA(),g.qZA(),g.TgZ(13,"li",10),g._uU(14,"Param\xe8tres"),g.qZA(),g.TgZ(15,"li",11),g._uU(16,"Type"),g.qZA(),g.TgZ(17,"li",11),g._uU(18,"Ajouter"),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.TgZ(19,"div",3),g.TgZ(20,"div",12),g.TgZ(21,"div",13),g.TgZ(22,"div",14),g.YNc(23,At,11,3,"div",15),g.YNc(24,vt,15,1,"div",15),g.YNc(25,Tt,15,1,"div",15),g.YNc(26,Ft,41,4,"div",15),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.qZA()),2&t&&(g.xp6(23),g.Q6J("ngIf",i.chooseDepot),g.xp6(1),g.Q6J("ngIf",i.chooseCategory),g.xp6(1),g.Q6J("ngIf",i.chooseFamily),g.xp6(1),g.Q6J("ngIf",i.addType))},directives:[a.O5,c.yS,p.Hw,a.sg,m.lW,d.Fj,d.JJ,d.u,d._Y,d.JL,d.sg,A.KE,A.hX,h.Nt,d.Q7,A.TO],styles:[".boxDiv[_ngcontent-%COMP%]{display:flex;flex-direction:column;font-weight:700;color:#383838;border-radius:12px;box-shadow:.5px .5px 6px .5px #9e9e9e}img[_ngcontent-%COMP%]{border-top-right-radius:12px 12px;border-top-left-radius:12px 12px}.full-width-btn[_ngcontent-%COMP%]{width:100%;height:100%;padding:0}"]}),_t)},{path:"family/add",component:mt},{path:"category/add",component:tt},{path:"depot/add",component:rt}],Ut=function(){var t=function t(){e(this,t)};return t.\u0275fac=function(i){return new(i||t)},t.\u0275mod=g.oAB({type:t}),t.\u0275inj=g.cJS({imports:[[c.Bz.forChild(Ct)],c.Bz]}),t}(),kt=n(87932),It=n(44716),Nt=n(29282),Jt=n(32430),Ot=((wt=function t(){e(this,t)}).\u0275fac=function(t){return new(t||wt)},wt.\u0275mod=g.oAB({type:wt}),wt.\u0275inj=g.cJS({imports:[[a.ez,d.u5,kt.m,Ut,It.T5,d.UX,Nt.JX,Jt.Sv]]}),wt)}}])}();