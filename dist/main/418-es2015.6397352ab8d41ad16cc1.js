(self.webpackChunkspice=self.webpackChunkspice||[]).push([[418],{75418:function(t,i,e){"use strict";e.r(i),e.d(i,{SettingsModule:function(){return Ut}});var o=e(61116),r=e(67663),n=e(31041),a=e(69056),s=e(35366),c=e(40147),d=e(63589),g=e(77307),l=e(84369),p=e(6489),m=e(22797),u=e(13070),Z=e(9550);function h(t,i){if(1&t){const t=s.EpF();s.TgZ(0,"button",20),s.NdJ("click",function(){return s.CHM(t),s.oxw().addNewArticleAction()}),s.TgZ(1,"mat-icon"),s._uU(2,"add"),s.qZA(),s.qZA()}}function A(t,i){if(1&t){const t=s.EpF();s.TgZ(0,"div",30),s.TgZ(1,"a",16),s.NdJ("click",function(){const i=s.CHM(t).$implicit;return s.oxw(2).chooseDepotAction(i)}),s.TgZ(2,"div",31),s.TgZ(3,"div",32),s._UZ(4,"img",33),s.qZA(),s.TgZ(5,"span",34),s._uU(6),s.qZA(),s.qZA(),s.qZA(),s.qZA()}if(2&t){const t=i.$implicit;s.xp6(4),s.s9C("src",t.img,s.LSH),s.xp6(2),s.Oqu(t.name)}}const f=function(){return{isFromAddArticle:!0}};function q(t,i){if(1&t&&(s.TgZ(0,"div",21),s.TgZ(1,"div",22),s.TgZ(2,"h3",23),s._uU(3," Veuillez choisir un d\xe9p\xf4t pour continuer "),s.qZA(),s.qZA(),s.TgZ(4,"div",24),s.TgZ(5,"a",25),s.TgZ(6,"div",26),s.TgZ(7,"div",27),s.TgZ(8,"mat-icon",28),s._uU(9,"add"),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.YNc(10,A,7,2,"div",29),s.qZA(),s.qZA()),2&t){const t=s.oxw();s.xp6(5),s.Q6J("state",s.DdM(2,f)),s.xp6(5),s.Q6J("ngForOf",t.depots)}}function T(t,i){if(1&t){const t=s.EpF();s.TgZ(0,"div",30),s.TgZ(1,"a",16),s.NdJ("click",function(){const i=s.CHM(t).$implicit;return s.oxw(2).chooseCategoryAction(i)}),s.TgZ(2,"div",31),s.TgZ(3,"div",32),s._UZ(4,"img",33),s.qZA(),s.TgZ(5,"span",34),s._uU(6),s.qZA(),s.qZA(),s.qZA(),s.qZA()}if(2&t){const t=i.$implicit;s.xp6(4),s.s9C("src",t.img,s.LSH),s.xp6(2),s.Oqu(t.name)}}function x(t,i){if(1&t&&(s.TgZ(0,"div",21),s.TgZ(1,"div",22),s.TgZ(2,"h3",23),s._uU(3," Veuillez choisir une cat\xe9gorie pour continuer "),s.qZA(),s.qZA(),s.TgZ(4,"div",24),s.TgZ(5,"a",35),s.TgZ(6,"div",26),s.TgZ(7,"div",27),s.TgZ(8,"mat-icon",28),s._uU(9,"add"),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.YNc(10,T,7,2,"div",29),s.qZA(),s.qZA()),2&t){const t=s.oxw();s.xp6(10),s.Q6J("ngForOf",t.categories)}}function b(t,i){if(1&t){const t=s.EpF();s.TgZ(0,"div",30),s.TgZ(1,"a",16),s.NdJ("click",function(){const i=s.CHM(t).$implicit;return s.oxw(2).chooseFamilyAction(i)}),s.TgZ(2,"div",31),s.TgZ(3,"div",32),s._UZ(4,"img",33),s.qZA(),s.TgZ(5,"span",34),s._uU(6),s.qZA(),s.qZA(),s.qZA(),s.qZA()}if(2&t){const t=i.$implicit;s.xp6(4),s.s9C("src",t.img,s.LSH),s.xp6(2),s.Oqu(t.name)}}function v(t,i){if(1&t&&(s.TgZ(0,"div",21),s.TgZ(1,"div",22),s.TgZ(2,"h3",23),s._uU(3," Veuillez choisir une famille pour continuer "),s.qZA(),s.qZA(),s.TgZ(4,"div",24),s.TgZ(5,"a",36),s.TgZ(6,"div",26),s.TgZ(7,"div",27),s.TgZ(8,"mat-icon",28),s._uU(9,"add"),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.YNc(10,b,7,2,"div",29),s.qZA(),s.qZA()),2&t){const t=s.oxw();s.xp6(10),s.Q6J("ngForOf",t.families)}}function y(t,i){if(1&t){const t=s.EpF();s.TgZ(0,"div",30),s.TgZ(1,"a",16),s.NdJ("click",function(){const i=s.CHM(t).$implicit;return s.oxw(2).chooseTypeAction(i)}),s.TgZ(2,"div",31),s.TgZ(3,"div",32),s._UZ(4,"img",33),s.qZA(),s.TgZ(5,"span",34),s._uU(6),s.qZA(),s.qZA(),s.qZA(),s.qZA()}if(2&t){const t=i.$implicit;s.xp6(4),s.s9C("src",t.img,s.LSH),s.xp6(2),s.Oqu(t.name)}}function F(t,i){if(1&t&&(s.TgZ(0,"div",21),s.TgZ(1,"div",22),s.TgZ(2,"h3",23),s._uU(3," Veuillez choisir un type pour continuer "),s.qZA(),s.qZA(),s.TgZ(4,"div",24),s.TgZ(5,"a",37),s.TgZ(6,"div",26),s.TgZ(7,"div",27),s.TgZ(8,"mat-icon",28),s._uU(9,"add"),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.YNc(10,y,7,2,"div",29),s.qZA(),s.qZA()),2&t){const t=s.oxw();s.xp6(10),s.Q6J("ngForOf",t.types)}}function _(t,i){if(1&t){const t=s.EpF();s.TgZ(0,"button",57),s.NdJ("click",function(){s.CHM(t);const i=s.oxw().$implicit;return s.oxw(2).addArticleToCourse(i)}),s.TgZ(1,"mat-icon"),s._uU(2,"add_shopping_cart"),s.qZA(),s._uU(3," Ajouter "),s.qZA()}}function w(t,i){if(1&t){const t=s.EpF();s.TgZ(0,"button",58),s.NdJ("click",function(){s.CHM(t);const i=s.oxw().$implicit;return s.oxw(2).editArticle(i)}),s.TgZ(1,"mat-icon"),s._uU(2,"edit"),s.qZA(),s._uU(3," Modifier "),s.qZA()}}function C(t,i){if(1&t){const t=s.EpF();s.TgZ(0,"button",59),s.NdJ("click",function(){s.CHM(t);const i=s.oxw().$implicit;return s.oxw(2).removeArticleFromCourse(i)}),s.TgZ(1,"mat-icon"),s._uU(2,"delete"),s.qZA(),s._uU(3," Retirer "),s.qZA()}}const U=function(t){return{"background-color":t}};function I(t,i){if(1&t&&(s.TgZ(0,"mat-expansion-panel",44),s.TgZ(1,"mat-expansion-panel-header",45),s.TgZ(2,"mat-panel-title",46),s._UZ(3,"img",47),s.TgZ(4,"p",48),s.TgZ(5,"b"),s._uU(6),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.TgZ(7,"mat-card-content",49),s.TgZ(8,"form",50),s.TgZ(9,"div",3),s.TgZ(10,"div",39),s.TgZ(11,"mat-form-field",51),s.TgZ(12,"mat-label"),s._uU(13,"Quantit\xe9"),s.qZA(),s._UZ(14,"input",52),s.qZA(),s.qZA(),s.TgZ(15,"div",39),s.TgZ(16,"mat-form-field",51),s.TgZ(17,"mat-label"),s._uU(18,"Prix unitaire"),s.qZA(),s._UZ(19,"input",53),s.qZA(),s.qZA(),s.TgZ(20,"div",39),s.YNc(21,_,4,0,"button",54),s.YNc(22,w,4,0,"button",55),s.qZA(),s.TgZ(23,"div",39),s.YNc(24,C,4,0,"button",56),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.qZA()),2&t){const t=i.$implicit,e=s.oxw(2);s.xp6(1),s.Q6J("ngStyle",s.VKq(9,U,t.isValid?"#00800030":"")),s.xp6(2),s.Q6J("src",t.img,s.LSH),s.xp6(3),s.Oqu(t.name),s.xp6(2),s.Q6J("formGroup",e.addArticleToCourseForm),s.xp6(6),s.Q6J("value",t.quantity),s.xp6(5),s.Q6J("value",t.price),s.xp6(2),s.Q6J("ngIf",!t.isValid),s.xp6(1),s.Q6J("ngIf",t.isValid),s.xp6(2),s.Q6J("ngIf",t.isValid)}}function k(t,i){if(1&t&&(s.TgZ(0,"div",21),s.TgZ(1,"div",38),s.TgZ(2,"div",39),s.TgZ(3,"h6",40),s._uU(4),s.qZA(),s.qZA(),s.qZA(),s.TgZ(5,"div",41),s.TgZ(6,"mat-accordion",42),s.YNc(7,I,25,11,"mat-expansion-panel",43),s.qZA(),s.qZA(),s.qZA()),2&t){const t=s.oxw();s.xp6(4),s.HOy(" ",t.depot," / ",t.category," / ",t.family," / ",t.type.name," "),s.xp6(3),s.Q6J("ngForOf",t.type.listArticle)("ngForTrackBy",t.byId)}}function N(t,i){if(1&t&&(s.TgZ(0,"div",30),s.TgZ(1,"a"),s.TgZ(2,"div",31),s.TgZ(3,"div",32),s._UZ(4,"img",33),s.qZA(),s.TgZ(5,"span",34),s._uU(6),s.qZA(),s.qZA(),s.qZA(),s.qZA()),2&t){const t=i.$implicit;s.xp6(4),s.s9C("src",t.img,s.LSH),s.xp6(2),s.Oqu(t.name)}}function J(t,i){if(1&t){const t=s.EpF();s.TgZ(0,"div",21),s.TgZ(1,"div",38),s.TgZ(2,"div",39),s.TgZ(3,"h6",40),s._uU(4),s.qZA(),s.qZA(),s.qZA(),s.TgZ(5,"div",41),s.TgZ(6,"div",24),s.TgZ(7,"a",60),s.NdJ("click",function(){return s.CHM(t),s.oxw().addNewArticleAction()}),s.TgZ(8,"div",26),s.TgZ(9,"div",27),s.TgZ(10,"mat-icon",28),s._uU(11,"add"),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.YNc(12,N,7,2,"div",61),s.qZA(),s.qZA(),s.qZA()}if(2&t){const t=s.oxw();s.xp6(4),s.HOy(" ",t.depot," / ",t.category," / ",t.family," / ",t.type.name," "),s.xp6(8),s.Q6J("ngForOf",t.type.listArticle)("ngForTrackBy",t.byId)}}function O(t,i){if(1&t&&(s.TgZ(0,"div",85),s._UZ(1,"img",86),s.qZA()),2&t){const t=s.oxw(2);s.xp6(1),s.Q6J("src",t.imgFile,s.LSH)}}function D(t,i){1&t&&(s.TgZ(0,"mat-error",87),s._uU(1," L'image est "),s.TgZ(2,"strong"),s._uU(3,"obligatoire"),s.qZA(),s.qZA())}function Q(t,i){1&t&&(s.TgZ(0,"mat-error"),s._uU(1," La d\xe9signation est "),s.TgZ(2,"strong"),s._uU(3,"obligatoire"),s.qZA(),s.qZA())}function S(t,i){if(1&t){const t=s.EpF();s.TgZ(0,"mat-card",88),s.NdJ("click",function(){const i=s.CHM(t).$implicit;return s.oxw(2).selectUnity(i)}),s._uU(1),s.qZA()}if(2&t){const t=i.$implicit,e=s.oxw(2);s.Q6J("ngStyle",s.VKq(2,U,t===e.selectedUnity?"#00800030":"")),s.xp6(1),s.Oqu(t)}}function Y(t,i){1&t&&(s.TgZ(0,"mat-error",89),s._uU(1," L'unit\xe9 est "),s.TgZ(2,"strong"),s._uU(3,"obligatoire"),s.qZA(),s.qZA())}function L(t,i){1&t&&(s.TgZ(0,"mat-error"),s._uU(1," La quantit\xe9 est "),s.TgZ(2,"strong"),s._uU(3,"obligatoire"),s.qZA(),s.qZA())}function z(t,i){if(1&t&&(s.TgZ(0,"div",3),s.TgZ(1,"div",39),s.TgZ(2,"mat-form-field",69),s.TgZ(3,"mat-label",70),s._uU(4,"Quantit\xe9"),s.qZA(),s._UZ(5,"input",90),s.YNc(6,L,4,0,"mat-error",72),s.qZA(),s.qZA(),s.qZA()),2&t){const t=s.oxw(2);s.xp6(6),s.Q6J("ngIf",t.addArticleForm.get("quantity").hasError("required"))}}const M=function(t){return{color:t,"font-size":"16px"}};function H(t,i){if(1&t){const t=s.EpF();s.TgZ(0,"div",21),s.TgZ(1,"div",22),s.TgZ(2,"h3",23),s._uU(3," Veuillez remplir la formulaire et cliquer sur confirmer "),s.qZA(),s.qZA(),s.TgZ(4,"div",24),s.YNc(5,O,2,1,"div",62),s.TgZ(6,"div",63),s.TgZ(7,"div",64),s.TgZ(8,"button",65),s.NdJ("click",function(){return s.CHM(t),s.oxw().openInput()}),s.TgZ(9,"mat-icon"),s._uU(10,"image"),s.qZA(),s._uU(11," Choisir une image "),s.qZA(),s.TgZ(12,"input",66),s.NdJ("change",function(i){return s.CHM(t),s.oxw().onImageChange(i)}),s.qZA(),s.qZA(),s.YNc(13,D,4,0,"mat-error",67),s.qZA(),s.TgZ(14,"form",68),s.TgZ(15,"div",3),s.TgZ(16,"div",39),s.TgZ(17,"mat-form-field",69),s.TgZ(18,"mat-label",70),s._uU(19,"D\xe9signation"),s.qZA(),s._UZ(20,"input",71),s.YNc(21,Q,4,0,"mat-error",72),s.qZA(),s.qZA(),s.TgZ(22,"div",39),s.TgZ(23,"mat-form-field",69),s.TgZ(24,"mat-label",70),s._uU(25,"Marque"),s.qZA(),s._UZ(26,"input",73),s.qZA(),s.qZA(),s.qZA(),s.TgZ(27,"div",3),s.TgZ(28,"div",39),s.TgZ(29,"mat-label",74),s._uU(30,"Unit\xe9 *"),s.qZA(),s.TgZ(31,"div",75),s.YNc(32,S,2,4,"mat-card",76),s.qZA(),s.YNc(33,Y,4,0,"mat-error",77),s.qZA(),s.qZA(),s.YNc(34,z,7,1,"div",78),s.TgZ(35,"div",3),s.TgZ(36,"div",79),s.TgZ(37,"mat-form-field",69),s.TgZ(38,"mat-label",70),s._uU(39,"Description"),s.qZA(),s._UZ(40,"textarea",80),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.TgZ(41,"div",81),s.TgZ(42,"div",82),s.TgZ(43,"button",83),s.NdJ("click",function(){return s.CHM(t),s.oxw().cancelAction()}),s.TgZ(44,"mat-icon"),s._uU(45,"clear"),s.qZA(),s._uU(46," Annuler "),s.qZA(),s.qZA(),s.TgZ(47,"div",82),s.TgZ(48,"button",84),s.NdJ("click",function(){return s.CHM(t),s.oxw().addArticleAction()}),s.TgZ(49,"mat-icon"),s._uU(50,"done"),s.qZA(),s._uU(51," Confirmer "),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.qZA()}if(2&t){const t=s.oxw();s.xp6(5),s.Q6J("ngIf",t.imgFile),s.xp6(8),s.Q6J("ngIf",t.submited&&!t.currentFile),s.xp6(1),s.Q6J("formGroup",t.addArticleForm),s.xp6(7),s.Q6J("ngIf",t.addArticleForm.get("name").hasError("required")),s.xp6(8),s.Q6J("ngStyle",s.VKq(8,M,!t.selectedUnity&&t.submited?"red":"#646a64")),s.xp6(3),s.Q6J("ngForOf",t.unities),s.xp6(1),s.Q6J("ngIf",!t.selectedUnity&&t.submited),s.xp6(1),s.Q6J("ngIf",t.isFromCourse)}}let j=(()=>{class t{constructor(t,i,e,o,r){this.route=t,this.stockService=i,this.fb=e,this.snackBar=o,this.router=r,this.articles=[],this.addedArticles=[],this.depots=[],this.categories=[],this.families=[],this.types=[],this.chooseDepot=!0,this.chooseCategory=!1,this.chooseFamily=!1,this.chooseType=!1,this.addArticle=!1,this.unities=["Kg","L","Pi\xe8ce"],this.submited=!1,this.addNewArticle=!1,this.add=!1,this.isFromCourse=!1,this.getQuantity=t=>((localStorage.getItem("addedArticlesInStorage")?JSON.parse(localStorage.getItem("addedArticlesInStorage")):[]).forEach(i=>{if(i._id===t._id)return i.quantity}),t.quantity),this.chooseDepotAction=t=>{this.chooseDepot=!1,this.chooseCategory=!0,this.categories=t.listCategorys,this.depot=t.name},this.chooseCategoryAction=t=>{this.chooseCategory=!1,this.chooseFamily=!0,this.families=t.listFamily,this.category=t.name},this.chooseFamilyAction=t=>{this.chooseFamily=!1,this.chooseType=!0,this.types=t.listType,this.family=t.name},this.chooseTypeAction=t=>{this.chooseType=!1,this.addArticle=!0,this.type=t,this.articles=this.type.listArticle},this.selectUnity=t=>{this.selectedUnity=t},this.addArticleAction=()=>{if(this.submited=!0,console.log(this.addArticleForm),this.addArticleForm.invalid||!this.currentFile||!this.selectedUnity)return void console.log("dzdzez");const t=new FormData;t.append("file",this.currentFile?this.currentFile[0]:null),t.append("name",this.addArticleForm.get("name").value.trim()),t.append("marque",this.addArticleForm.get("marque").value.trim()),t.append("quantity",this.isFromCourse?this.addArticleForm.get("quantity").value:0),t.append("unity",this.selectedUnity),t.append("description",this.addArticleForm.get("description").value),t.append("idType",this.type._id),this.stockService.addArticle(t).subscribe(t=>{this.articles.push(t),console.log("resp>>>",t),this.showNotification("snackbar-success","L'article a \xe9t\xe9 ajout\xe9 avec succ\xe8s","top","end"),this.addArticle=!0,this.addNewArticle=!1})},this.addNewArticleAction=()=>{this.addNewArticle=!0,this.addArticle=!1},this.backButtonAction=()=>{this.addArticle?(this.addArticle=!1,this.chooseType=!0):this.chooseType?(this.chooseType=!1,this.chooseFamily=!0):this.chooseFamily?(this.chooseFamily=!1,this.chooseCategory=!0):this.chooseCategory?(this.chooseCategory=!1,this.chooseDepot=!0):this.addNewArticle?(this.addArticle=!0,this.addNewArticle=!1):this.isFromCourse&&this.router.navigate(["stock/courses/add"])},this.addArticleToCourse=t=>{const i=Object.assign(Object.assign({},t),{quantity:this.addArticleToCourseForm.get("quantity").value,price:this.addArticleToCourseForm.get("price").value,isHide:!0,totalPrice:this.addArticleToCourseForm.get("quantity").value*this.addArticleToCourseForm.get("price").value}),e=localStorage.getItem("addedArticlesInStorage")?JSON.parse(localStorage.getItem("addedArticlesInStorage")):[];e.push(i),localStorage.setItem("addedArticlesInStorage",JSON.stringify(e)),t.quantity=this.addArticleToCourseForm.get("quantity").value,t.price=this.addArticleToCourseForm.get("price").value,t.isValid=!0},this.removeArticleFromCourse=t=>{let i=localStorage.getItem("addedArticlesInStorage")?JSON.parse(localStorage.getItem("addedArticlesInStorage")):[];i=i.filter(i=>i._id!==t._id),localStorage.setItem("addedArticlesInStorage",JSON.stringify(i)),t.quantity="",t.price="",t.isValid=!1},this.editArticle=t=>{let i=localStorage.getItem("addedArticlesInStorage")?JSON.parse(localStorage.getItem("addedArticlesInStorage")):[];i=i.forEach(i=>{i._id===t._id&&(i.quantity=this.addArticleToCourseForm.get("quantity").value,i.price=this.addArticleToCourseForm.get("price").value,i.totalPrice=this.addArticleToCourseForm.get("quantity").value*this.addArticleToCourseForm.get("price").value)}),localStorage.setItem("addedArticlesInStorage",JSON.stringify(i)),t.quantity=this.addArticleToCourseForm.get("quantity").value,t.price=this.addArticleToCourseForm.get("price").value},this.cancelAction=()=>{this.isFromCourse&&this.router.navigate(["stock/courses/add"])};const n=this.router.getCurrentNavigation();this.isFromCourse=!!n.extras.state&&n.extras.state.isFromCourse,console.log(this.isFromCourse)}ngOnInit(){this.getListArticlesOfAllDepots(),this.addArticleForm=this.createAddArticleForm(),this.addArticleToCourseForm=this.createAddArticleToCourseForm()}ngDoCheck(){this.add&&this.getListArticlesOfAllDepots()}byId(t,i){return i._id}createAddArticleForm(){return console.log(this.isFromCourse),this.fb.group(this.isFromCourse?{name:["",n.kI.required],description:[""],unity:[""],quantity:["",n.kI.required],marque:[""],file:[""]}:{name:["",n.kI.required],description:[""],unity:[""],marque:[""],file:[""]})}createAddArticleToCourseForm(){return this.fb.group({quantity:["",n.kI.required],price:["",n.kI.required]})}openInput(){document.getElementById("fileInput").click()}onImageChange(t){const i=new FileReader;if(t.target.files&&t.target.files.length){const[e]=t.target.files;this.currentFile=t.target.files,i.readAsDataURL(e),i.onload=()=>{this.imgFile=i.result}}}getListArticlesOfAllDepots(){this.stockService.getListOfArticlesByAllDepot().pipe((0,a.q)(1)).subscribe(t=>{this.depots=t,console.log("Result getListArticlesOfAllDepots : ",t)})}showNotification(t,i,e,o){this.snackBar.open(i,"",{duration:3e3,verticalPosition:e,horizontalPosition:o,panelClass:t})}}return t.\u0275fac=function(i){return new(i||t)(s.Y36(r.gz),s.Y36(c.q),s.Y36(n.qu),s.Y36(d.ux),s.Y36(r.F0))},t.\u0275cmp=s.Xpm({type:t,selectors:[["app-add-article"]],decls:35,vars:8,consts:[[1,"content"],[1,"container-fluid"],[1,"block-header"],[1,"row"],[1,"col-xs-12","col-sm-12","col-md-12","col-lg-12"],[1,"breadcrumb","breadcrumb-style"],[1,"breadcrumb-item"],[1,"page-title"],[1,"breadcrumb-item","bcrumb-1"],[1,"fas","fa-home"],[1,"breadcrumb-item","active"],[1,"breadcrumb-item","bcrumb-3"],[1,"col-md-12","col-sm-12"],[1,"card",2,"height","100%"],[1,"card-body"],[2,"display","flex","justify-content","space-between"],[3,"click"],[2,"font-size","55px","color","rgb(50, 76, 228)","cursor","pointer"],["mat-fab","","color","primary",3,"click",4,"ngIf"],["class","row","style","padding: 30px",4,"ngIf"],["mat-fab","","color","primary",3,"click"],[1,"row",2,"padding","30px"],[1,"text-center","mt-3",2,"margin-bottom","30px"],[2,"font-weight","bold","font-family","open sans, sans-serif","font-size","30px"],[1,"row","mt-2","mb-5",2,"margin-top","30px"],["routerLink","/settings/depot/add",1,"col-lg-2","mb-3",3,"state"],[1,"boxDiv","text-center",2,"height","137.5px"],[2,"display","flex","justify-content","center","height","100%","align-items","center"],[2,"transform","scale(2)"],["class","col-lg-2 mb-3",4,"ngFor","ngForOf"],[1,"col-lg-2","mb-3"],[1,"boxDiv","text-center"],[2,"width","100%"],["alt","image","width","100%","height","80px",1,"image",3,"src"],[2,"margin-bottom","25px","align-self","flex-center","font-size","15px","margin-top","10px"],["routerLink","/settings/category/add",1,"col-lg-2","mb-3"],["routerLink","/settings/family/add",1,"col-lg-2","mb-3"],["routerLink","/settings/type/add",1,"col-lg-2","mb-3"],[1,"row",2,"margin-bottom","30px"],[1,"col"],[2,"margin-bottom","30px"],[1,"row","mb-7",2,"padding-top","10px"],["multi","",1,"example-headers-align"],["style","margin-bottom: 10px",4,"ngFor","ngForOf","ngForTrackBy"],[2,"margin-bottom","10px"],[1,"panel-header",3,"ngStyle"],[2,"align-items","center"],[1,"panel-image",3,"src"],[1,"no-margin","panel-title"],[2,"padding-top","20px"],[1,"row",2,"justify-content","center",3,"formGroup"],["appearance","outline",1,"no-margin",2,"width","100%"],["matInput","","type","number","name","quantity","formControlName","quantity",1,"no-margin",3,"value"],["matInput","","type","number","name","price","formControlName","price",1,"no-margin",3,"value"],["style","margin-top: 3px; height: 50px; width: 100%","mat-raised-button","","color","primary",3,"click",4,"ngIf"],["style","margin-top: 3px; height: 50px; width: 100%","mat-raised-button","","color","basic",3,"click",4,"ngIf"],["style","margin-top: 3px; height: 50px; width: 100%","mat-raised-button","","color","warn",3,"click",4,"ngIf"],["mat-raised-button","","color","primary",2,"margin-top","3px","height","50px","width","100%",3,"click"],["mat-raised-button","","color","basic",2,"margin-top","3px","height","50px","width","100%",3,"click"],["mat-raised-button","","color","warn",2,"margin-top","3px","height","50px","width","100%",3,"click"],[1,"col-lg-2","mb-3",3,"click"],["class","col-lg-2 mb-3",4,"ngFor","ngForOf","ngForTrackBy"],["class","preview","style","text-align: center; margin-bottom: 20px",4,"ngIf"],[1,"row",2,"height","50px"],[1,"col-lg-4","col-xs-12","col-sm-12","col-md-6"],["mat-raised-button","","color","primary",1,"full-width-btn",3,"click"],["id","fileInput","hidden","","type","file","name","file","accept",".jpg,.jpeg,.png",3,"change"],["style","margin-top: 5px; font-size: 75%; padding: 0 1em",4,"ngIf"],["id","addArticleForm",2,"margin-top","20px",3,"formGroup"],["appearance","outline",1,"mb-3",2,"width","100%"],[2,"font-size","16px"],["matInput","","formControlName","name","type","text","required","",1,"example-right-align",3,"value"],[4,"ngIf"],["matInput","","formControlName","marque","type","text",1,"example-right-align",3,"value"],[3,"ngStyle"],[2,"display","flex","flex-direction","row","margin","20px 0","justify-content","center"],["class","unity-card",3,"ngStyle","click",4,"ngFor","ngForOf"],["style","\n                          margin-top: 5px;\n                          font-size: 75%;\n                          padding: 0 1em;\n                          margin-bottom: 10px;\n                        ",4,"ngIf"],["class","row",4,"ngIf"],[1,"col-12"],["matInput","","formControlName","description",1,"example-right-align",3,"value"],[1,"row",2,"height","50px","margin-top","20px"],[1,"col-6"],["mat-raised-button","",1,"full-width-btn",3,"click"],["mat-raised-button","","color","primary","form","addArticleForm",1,"full-width-btn",3,"click"],[1,"preview",2,"text-align","center","margin-bottom","20px"],[2,"width","150px","height","150px","border-radius","12px",3,"src"],[2,"margin-top","5px","font-size","75%","padding","0 1em"],[1,"unity-card",3,"ngStyle","click"],[2,"margin-top","5px","font-size","75%","padding","0 1em","margin-bottom","10px"],["matInput","","formControlName","quantity","type","number",1,"example-right-align",3,"value"]],template:function(t,i){1&t&&(s.TgZ(0,"section",0),s.TgZ(1,"div",1),s.TgZ(2,"div",2),s.TgZ(3,"div",3),s.TgZ(4,"div",4),s.TgZ(5,"ul",5),s.TgZ(6,"li",6),s.TgZ(7,"h4",7),s._uU(8,"Stock"),s.qZA(),s.qZA(),s.TgZ(9,"li",8),s.TgZ(10,"a"),s._UZ(11,"i",9),s._uU(12,"Accueil"),s.qZA(),s.qZA(),s.TgZ(13,"li",10),s._uU(14,"Param\xe8tres"),s.qZA(),s.TgZ(15,"li",11),s._uU(16,"Article"),s.qZA(),s.TgZ(17,"li",11),s._uU(18,"Ajouter"),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.TgZ(19,"div",3),s.TgZ(20,"div",12),s.TgZ(21,"div",13),s.TgZ(22,"div",14),s.TgZ(23,"div",15),s.TgZ(24,"span",16),s.NdJ("click",function(){return i.backButtonAction()}),s.TgZ(25,"mat-icon",17),s._uU(26,"reply"),s.qZA(),s.qZA(),s.YNc(27,h,3,0,"button",18),s.qZA(),s.YNc(28,q,11,3,"div",19),s.YNc(29,x,11,1,"div",19),s.YNc(30,v,11,1,"div",19),s.YNc(31,F,11,1,"div",19),s.YNc(32,k,8,6,"div",19),s.YNc(33,J,13,6,"div",19),s.YNc(34,H,52,10,"div",19),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.qZA()),2&t&&(s.xp6(27),s.Q6J("ngIf",i.addArticle&&i.isFromCourse),s.xp6(1),s.Q6J("ngIf",i.chooseDepot),s.xp6(1),s.Q6J("ngIf",i.chooseCategory),s.xp6(1),s.Q6J("ngIf",i.chooseFamily),s.xp6(1),s.Q6J("ngIf",i.chooseType),s.xp6(1),s.Q6J("ngIf",i.addArticle&&i.isFromCourse),s.xp6(1),s.Q6J("ngIf",i.addArticle&&!i.isFromCourse),s.xp6(1),s.Q6J("ngIf",i.addNewArticle))},directives:[g.Hw,o.O5,l.lW,r.yS,o.sg,p.pp,p.ib,p.yz,o.PC,p.yK,m.dn,n._Y,n.JL,n.sg,u.KE,u.hX,Z.Nt,n.wV,n.Fj,n.JJ,n.u,n.Q7,u.TO,m.a8],styles:[".boxDiv[_ngcontent-%COMP%]{display:flex;flex-direction:column;font-weight:700;color:#383838;border-radius:12px;box-shadow:.5px .5px 6px .5px #9e9e9e}img[_ngcontent-%COMP%]{border-top-right-radius:12px 12px;border-top-left-radius:12px 12px}.full-width-btn[_ngcontent-%COMP%]{width:100%;height:100%;padding:0}.unity-card[_ngcontent-%COMP%]{padding:20px;margin-right:10px;width:100px;text-align:center;cursor:pointer}.panel-image[_ngcontent-%COMP%]{width:80px;height:60px;border-radius:10px;margin-right:10px}@media (max-width:420px){.panel-image[_ngcontent-%COMP%]{width:50px;height:40px}.panel-title[_ngcontent-%COMP%]{font-size:12px}}@media (max-width:420px){[_nghost-%COMP%]     .mat-expansion-panel-header{padding-left:5px;padding-right:10px}}@media (max-width:420px){[_nghost-%COMP%]     .mat-expansion-panel-body{padding:0 10px 16px!important}}.no-margin[_ngcontent-%COMP%]{margin:0}.panel-header[_ngcontent-%COMP%]{height:80px;border-bottom:1px solid rgba(0,0,0,.14)}"]}),t})();function P(t,i){if(1&t){const t=s.EpF();s.TgZ(0,"div",25),s.TgZ(1,"a",26),s.NdJ("click",function(){const i=s.CHM(t).$implicit;return s.oxw(2).chooseDepotAction(i)}),s.TgZ(2,"div",27),s.TgZ(3,"div",28),s._UZ(4,"img",29),s.qZA(),s.TgZ(5,"span",30),s._uU(6),s.qZA(),s.qZA(),s.qZA(),s.qZA()}if(2&t){const t=i.$implicit;s.xp6(4),s.s9C("src",t.img,s.LSH),s.xp6(2),s.Oqu(t.name)}}const E=function(){return{isFromAddCategory:!0}};function B(t,i){if(1&t&&(s.TgZ(0,"div",16),s.TgZ(1,"div",17),s.TgZ(2,"h3",18),s._uU(3," Veuillez choisir un d\xe9p\xf4t pour continuer "),s.qZA(),s.qZA(),s.TgZ(4,"div",19),s.TgZ(5,"a",20),s.TgZ(6,"div",21),s.TgZ(7,"div",22),s.TgZ(8,"mat-icon",23),s._uU(9,"add"),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.YNc(10,P,7,2,"div",24),s.qZA(),s.qZA()),2&t){const t=s.oxw();s.xp6(5),s.Q6J("state",s.DdM(2,E)),s.xp6(5),s.Q6J("ngForOf",t.depots)}}function $(t,i){if(1&t&&(s.TgZ(0,"div",50),s._UZ(1,"img",51),s.qZA()),2&t){const t=s.oxw(2);s.xp6(1),s.Q6J("src",t.imgFile,s.LSH)}}function V(t,i){1&t&&(s.TgZ(0,"mat-error",52),s._uU(1," L'image est "),s.TgZ(2,"strong"),s._uU(3,"obligatoire"),s.qZA(),s.qZA())}function R(t,i){1&t&&(s.TgZ(0,"mat-error"),s._uU(1," La d\xe9signation de la cat\xe9gorie est "),s.TgZ(2,"strong"),s._uU(3,"obligatoire"),s.qZA(),s.qZA())}function G(t,i){if(1&t){const t=s.EpF();s.TgZ(0,"div",16),s.TgZ(1,"div"),s.TgZ(2,"span",26),s.NdJ("click",function(){return s.CHM(t),s.oxw().backButtonAction()}),s.TgZ(3,"mat-icon",31),s._uU(4,"reply"),s.qZA(),s.qZA(),s.qZA(),s.TgZ(5,"div",32),s.TgZ(6,"h3",33),s._uU(7," Veuillez remplir la formulaire puis cliquer sur confirmer "),s.qZA(),s.qZA(),s.YNc(8,$,2,1,"div",34),s.TgZ(9,"div",3),s.TgZ(10,"div",35),s.TgZ(11,"button",36),s.NdJ("click",function(){return s.CHM(t),s.oxw().openInput()}),s.TgZ(12,"mat-icon"),s._uU(13,"image"),s.qZA(),s._uU(14," Choisir une image "),s.qZA(),s.TgZ(15,"input",37),s.NdJ("change",function(i){return s.CHM(t),s.oxw().onImageChange(i)}),s.qZA(),s.YNc(16,V,4,0,"mat-error",38),s.qZA(),s.qZA(),s.TgZ(17,"form",39),s.TgZ(18,"div",3),s.TgZ(19,"div",40),s.TgZ(20,"mat-form-field",41),s.TgZ(21,"mat-label",42),s._uU(22,"D\xe9signation"),s.qZA(),s._UZ(23,"input",43),s.YNc(24,R,4,0,"mat-error",44),s.qZA(),s.qZA(),s.TgZ(25,"div",40),s.TgZ(26,"mat-form-field",41),s.TgZ(27,"mat-label",42),s._uU(28,"Description"),s.qZA(),s._UZ(29,"textarea",45),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.TgZ(30,"div",46),s.TgZ(31,"div",47),s.TgZ(32,"button",48),s.NdJ("click",function(){return s.CHM(t),s.oxw().cancelAction()}),s.TgZ(33,"mat-icon"),s._uU(34,"clear"),s.qZA(),s._uU(35," Annuler "),s.qZA(),s.qZA(),s.TgZ(36,"div",47),s.TgZ(37,"button",49),s.NdJ("click",function(){return s.CHM(t),s.oxw().addCategoryAction()}),s.TgZ(38,"mat-icon"),s._uU(39,"done"),s.qZA(),s._uU(40," Confirmer "),s.qZA(),s.qZA(),s.qZA(),s.qZA()}if(2&t){const t=s.oxw();s.xp6(8),s.Q6J("ngIf",t.imgFile),s.xp6(8),s.Q6J("ngIf",t.submited&&!t.currentFile),s.xp6(1),s.Q6J("formGroup",t.addCategoryForm),s.xp6(7),s.Q6J("ngIf",t.addCategoryForm.get("name").hasError("required"))}}let X=(()=>{class t{constructor(t,i,e,o){this.stockService=t,this.fb=i,this.router=e,this.snackBar=o,this.depots=[],this.chooseDepot=!0,this.addCategory=!1,this.submited=!1,this.isFromAddArticle=!1,this.isFromAddType=!1,this.isFromAddFamily=!1,this.chooseDepotAction=t=>{this.depot=t,this.chooseDepot=!1,this.addCategory=!0},this.addCategoryAction=()=>{if(this.submited=!0,this.addCategoryForm.invalid||!this.currentFile)return;const t=new FormData;t.append("file",this.currentFile?this.currentFile[0]:null),t.append("name",this.addCategoryForm.get("name").value.trim()),t.append("description",this.addCategoryForm.get("description").value),t.append("idDepot",this.depot._id),this.stockService.addCategory(t).subscribe(t=>{console.log("resp>>>",t),this.showNotification("snackbar-success","La cat\xe9gorie a \xe9t\xe9 ajout\xe9e avec succ\xe8s","top","end")})},this.backButtonAction=()=>{this.addCategory?(this.addCategory=!1,this.chooseDepot=!0):this.isFromAddArticle?this.router.navigate(["settings/article/add"]):this.isFromAddType?this.router.navigate(["settings/type/add"]):this.isFromAddFamily&&this.router.navigate(["settings/family/add"])},this.cancelAction=()=>{};const r=this.router.getCurrentNavigation();this.isFromAddArticle=!!r.extras.state&&r.extras.state.isFromAddArticle,this.isFromAddType=!!r.extras.state&&r.extras.state.isFromAddType,this.isFromAddFamily=!!r.extras.state&&r.extras.state.isFromAddFamily}ngOnInit(){this.getListArticlesOfAllDepots(),this.addCategoryForm=this.createAddCategoryForm()}openInput(){document.getElementById("fileInput").click()}onImageChange(t){const i=new FileReader;if(t.target.files&&t.target.files.length){const[e]=t.target.files;this.currentFile=t.target.files,i.readAsDataURL(e),i.onload=()=>{this.imgFile=i.result}}}createAddCategoryForm(){return this.fb.group({name:["",n.kI.required],description:[""],file:[""]})}getListArticlesOfAllDepots(){this.stockService.getListOfArticlesByAllDepot().pipe((0,a.q)(1)).subscribe(t=>{this.depots=t,console.log("Result getListArticlesOfAllDepots : ",t)})}showNotification(t,i,e,o){this.snackBar.open(i,"",{duration:3e3,verticalPosition:e,horizontalPosition:o,panelClass:t})}}return t.\u0275fac=function(i){return new(i||t)(s.Y36(c.q),s.Y36(n.qu),s.Y36(r.F0),s.Y36(d.ux))},t.\u0275cmp=s.Xpm({type:t,selectors:[["app-add-category"]],decls:25,vars:2,consts:[[1,"content"],[1,"container-fluid"],[1,"block-header"],[1,"row"],[1,"col-xs-12","col-sm-12","col-md-12","col-lg-12"],[1,"breadcrumb","breadcrumb-style"],[1,"breadcrumb-item"],[1,"page-title"],[1,"breadcrumb-item","bcrumb-1"],[1,"fas","fa-home"],[1,"breadcrumb-item","active"],[1,"breadcrumb-item","bcrumb-3"],[1,"col-md-12","col-sm-12"],[1,"card",2,"height","100%"],[1,"card-body"],["class","row","style","padding: 30px",4,"ngIf"],[1,"row",2,"padding","30px"],[1,"text-center","mt-3",2,"margin-bottom","30px"],[2,"font-weight","bold","font-family","open sans, sans-serif","font-size","30px"],[1,"row","mt-2","mb-5",2,"margin-top","30px"],["routerLink","/settings/depot/add",1,"col-lg-2","mb-3",3,"state"],[1,"boxDiv","text-center",2,"height","137.5px"],[2,"display","flex","justify-content","center","height","100%","align-items","center"],[2,"transform","scale(2)"],["class","col-lg-2 mb-3",4,"ngFor","ngForOf"],[1,"col-lg-2","mb-3"],[3,"click"],[1,"boxDiv","text-center"],[2,"width","100%"],["alt","image","width","100%","height","80px",1,"image",3,"src"],[2,"margin-bottom","25px","align-self","flex-center","font-size","15px","margin-top","10px"],[2,"font-size","55px","color","rgb(50, 76, 228)","cursor","pointer"],[1,"text-center","mt-3"],[2,"font-weight","bold","font-family","open sans, sans-serif","font-size","30px","margin-bottom","30px"],["class","preview","style","text-align: center; margin-bottom: 20px",4,"ngIf"],[1,"mb-3","col"],["mat-raised-button","","color","primary",3,"click"],["id","fileInput","hidden","","type","file","name","file","accept",".jpg,.jpeg,.png,.jfif","formControlName","file",3,"change"],["style","margin-top: 5px; font-size: 75%; padding: 0 1em",4,"ngIf"],["id","addCategoryForm",3,"formGroup"],[1,"col-12"],["appearance","outline",1,"mb-3",2,"width","100%"],[2,"font-size","16px"],["matInput","","formControlName","name","type","text","required","",1,"example-right-align",3,"value"],[4,"ngIf"],["matInput","","formControlName","description",1,"example-right-align",3,"value"],[1,"row",2,"height","50px","margin-top","20px"],[1,"col-6"],["mat-raised-button","",1,"full-width-btn",3,"click"],["mat-raised-button","","color","primary","form","addCategoryForm",1,"full-width-btn",3,"click"],[1,"preview",2,"text-align","center","margin-bottom","20px"],[2,"width","150px","height","150px","border-radius","12px",3,"src"],[2,"margin-top","5px","font-size","75%","padding","0 1em"]],template:function(t,i){1&t&&(s.TgZ(0,"section",0),s.TgZ(1,"div",1),s.TgZ(2,"div",2),s.TgZ(3,"div",3),s.TgZ(4,"div",4),s.TgZ(5,"ul",5),s.TgZ(6,"li",6),s.TgZ(7,"h4",7),s._uU(8,"Stock"),s.qZA(),s.qZA(),s.TgZ(9,"li",8),s.TgZ(10,"a"),s._UZ(11,"i",9),s._uU(12,"Accueil"),s.qZA(),s.qZA(),s.TgZ(13,"li",10),s._uU(14,"Param\xe8tres"),s.qZA(),s.TgZ(15,"li",11),s._uU(16,"Cat\xe9gorie"),s.qZA(),s.TgZ(17,"li",11),s._uU(18,"Ajouter"),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.TgZ(19,"div",3),s.TgZ(20,"div",12),s.TgZ(21,"div",13),s.TgZ(22,"div",14),s.YNc(23,B,11,3,"div",15),s.YNc(24,G,41,4,"div",15),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.qZA()),2&t&&(s.xp6(23),s.Q6J("ngIf",i.chooseDepot),s.xp6(1),s.Q6J("ngIf",i.addCategory))},directives:[o.O5,r.yS,g.Hw,o.sg,l.lW,n.Fj,n.JJ,n.u,n._Y,n.JL,n.sg,u.KE,u.hX,Z.Nt,n.Q7,u.TO],styles:[".boxDiv[_ngcontent-%COMP%]{display:flex;flex-direction:column;font-weight:700;color:#383838;border-radius:12px;box-shadow:.5px .5px 6px .5px #9e9e9e}img[_ngcontent-%COMP%]{border-top-right-radius:12px 12px;border-top-left-radius:12px 12px}.full-width-btn[_ngcontent-%COMP%]{width:100%;height:100%;padding:0}"]}),t})();function K(t,i){if(1&t&&(s.TgZ(0,"div",33),s._UZ(1,"img",34),s.qZA()),2&t){const t=s.oxw();s.xp6(1),s.Q6J("src",t.imgFile,s.LSH)}}function W(t,i){1&t&&(s.TgZ(0,"mat-error",35),s._uU(1," L'image est "),s.TgZ(2,"strong"),s._uU(3,"obligatoire"),s.qZA(),s.qZA())}function tt(t,i){1&t&&(s.TgZ(0,"mat-error"),s._uU(1," La d\xe9signation de d\xe9pot est "),s.TgZ(2,"strong"),s._uU(3,"obligatoire"),s.qZA(),s.qZA())}let it=(()=>{class t{constructor(t,i,e,o){this.stockService=t,this.fb=i,this.router=e,this.snackBar=o,this.submited=!1,this.isFromAddArticle=!1,this.isFromAddType=!1,this.isFromAddFamily=!1,this.isFromAddCategory=!1,this.addDepot=()=>{if(this.submited=!0,this.addDepotForm.invalid||!this.currentFile)return;const t=new FormData;t.append("file",this.currentFile?this.currentFile[0]:null),t.append("name",this.addDepotForm.get("name").value.trim()),t.append("description",this.addDepotForm.get("description").value),this.stockService.addDepot(t).subscribe(t=>{console.log("resp>>>",t),this.showNotification("snackbar-success","Le d\xe9p\xf4t a \xe9t\xe9 ajout\xe9 avec succ\xe8s","top","end")})},this.backButtonAction=()=>{this.isFromAddArticle?this.router.navigate(["settings/article/add"]):this.isFromAddType?this.router.navigate(["settings/type/add"]):this.isFromAddFamily?this.router.navigate(["settings/family/add"]):this.isFromAddCategory&&this.router.navigate(["settings/category/add"])},this.cancelAction=()=>{};const r=this.router.getCurrentNavigation();this.isFromAddArticle=!!r.extras.state&&r.extras.state.isFromAddArticle,this.isFromAddType=!!r.extras.state&&r.extras.state.isFromAddType,this.isFromAddFamily=!!r.extras.state&&r.extras.state.isFromAddFamily,this.isFromAddCategory=!!r.extras.state&&r.extras.state.isFromAddCategory}ngOnInit(){this.addDepotForm=this.createAddDepotForm()}createAddDepotForm(){return this.fb.group({name:["",n.kI.required],description:[""],file:[""]})}openInput(){document.getElementById("fileInput").click()}onImageChange(t){const i=new FileReader;if(t.target.files&&t.target.files.length){const[e]=t.target.files;this.currentFile=t.target.files,i.readAsDataURL(e),i.onload=()=>{this.imgFile=i.result}}}showNotification(t,i,e,o){this.snackBar.open(i,"",{duration:3e3,verticalPosition:e,horizontalPosition:o,panelClass:t})}}return t.\u0275fac=function(i){return new(i||t)(s.Y36(c.q),s.Y36(n.qu),s.Y36(r.F0),s.Y36(d.ux))},t.\u0275cmp=s.Xpm({type:t,selectors:[["app-add-depot"]],decls:58,vars:4,consts:[[1,"content"],[1,"container-fluid"],[1,"block-header"],[1,"row"],[1,"col-xs-12","col-sm-12","col-md-12","col-lg-12"],[1,"breadcrumb","breadcrumb-style"],[1,"breadcrumb-item"],[1,"page-title"],[1,"breadcrumb-item","bcrumb-1"],[1,"fas","fa-home"],[1,"breadcrumb-item","active"],[1,"breadcrumb-item","bcrumb-3"],[1,"col-md-12","col-sm-12"],[1,"card",2,"height","100%"],[1,"card-body",2,"padding","30px"],[1,"text-center","mt-3"],[2,"font-weight","bold","font-family","open sans, sans-serif","font-size","30px","margin-bottom","30px"],["class","preview","style","text-align: center; margin-bottom: 20px",4,"ngIf"],[1,"mb-3","col"],["mat-raised-button","","color","primary",3,"click"],["id","fileInput","hidden","","type","file","name","file","accept",".jpg,.jpeg,.png,.jfif","formControlName","file",3,"change"],["style","margin-top: 5px; font-size: 75%; padding: 0 1em",4,"ngIf"],["id","addDepotForm",3,"formGroup"],[1,"col-12"],["appearance","outline",1,"mb-3",2,"width","100%"],[2,"font-size","16px"],["matInput","","formControlName","name","type","text","required","",1,"example-right-align",3,"value"],[4,"ngIf"],["matInput","","formControlName","description",1,"example-right-align",3,"value"],[1,"row",2,"height","50px","margin-top","20px"],[1,"col-6"],["mat-raised-button","",1,"full-width-btn",3,"click"],["mat-raised-button","","color","primary","form","addDepotForm",1,"full-width-btn",3,"click"],[1,"preview",2,"text-align","center","margin-bottom","20px"],[2,"width","150px","height","150px","border-radius","12px",3,"src"],[2,"margin-top","5px","font-size","75%","padding","0 1em"]],template:function(t,i){1&t&&(s.TgZ(0,"section",0),s.TgZ(1,"div",1),s.TgZ(2,"div",2),s.TgZ(3,"div",3),s.TgZ(4,"div",4),s.TgZ(5,"ul",5),s.TgZ(6,"li",6),s.TgZ(7,"h4",7),s._uU(8,"Parm\xe8tres"),s.qZA(),s.qZA(),s.TgZ(9,"li",8),s.TgZ(10,"a"),s._UZ(11,"i",9),s._uU(12,"Accueil"),s.qZA(),s.qZA(),s.TgZ(13,"li",10),s._uU(14,"Parm\xe8tres"),s.qZA(),s.TgZ(15,"li",11),s._uU(16,"D\xe9pots"),s.qZA(),s.TgZ(17,"li",11),s._uU(18,"Ajouter"),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.TgZ(19,"div",3),s.TgZ(20,"div",12),s.TgZ(21,"div",13),s.TgZ(22,"div",14),s.TgZ(23,"div",15),s.TgZ(24,"h3",16),s._uU(25," Veuillez remplir la formulaire puis cliquer sur confirmer "),s.qZA(),s.qZA(),s.YNc(26,K,2,1,"div",17),s.TgZ(27,"div",18),s.TgZ(28,"button",19),s.NdJ("click",function(){return i.openInput()}),s.TgZ(29,"mat-icon"),s._uU(30,"image"),s.qZA(),s._uU(31," Choisir une image "),s.qZA(),s.TgZ(32,"input",20),s.NdJ("change",function(t){return i.onImageChange(t)}),s.qZA(),s.YNc(33,W,4,0,"mat-error",21),s.qZA(),s.TgZ(34,"form",22),s.TgZ(35,"div",3),s.TgZ(36,"div",23),s.TgZ(37,"mat-form-field",24),s.TgZ(38,"mat-label",25),s._uU(39,"D\xe9signation"),s.qZA(),s._UZ(40,"input",26),s.YNc(41,tt,4,0,"mat-error",27),s.qZA(),s.qZA(),s.TgZ(42,"div",23),s.TgZ(43,"mat-form-field",24),s.TgZ(44,"mat-label",25),s._uU(45,"Description"),s.qZA(),s._UZ(46,"textarea",28),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.TgZ(47,"div",29),s.TgZ(48,"div",30),s.TgZ(49,"button",31),s.NdJ("click",function(){return i.cancelAction()}),s.TgZ(50,"mat-icon"),s._uU(51,"clear"),s.qZA(),s._uU(52," Annuler "),s.qZA(),s.qZA(),s.TgZ(53,"div",30),s.TgZ(54,"button",32),s.NdJ("click",function(){return i.addDepot()}),s.TgZ(55,"mat-icon"),s._uU(56,"done"),s.qZA(),s._uU(57," Confirmer "),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.qZA()),2&t&&(s.xp6(26),s.Q6J("ngIf",i.imgFile),s.xp6(7),s.Q6J("ngIf",i.submited&&!i.currentFile),s.xp6(1),s.Q6J("formGroup",i.addDepotForm),s.xp6(7),s.Q6J("ngIf",i.addDepotForm.get("name").hasError("required")))},directives:[o.O5,l.lW,g.Hw,n.Fj,n.JJ,n.u,n._Y,n.JL,n.sg,u.KE,u.hX,Z.Nt,n.Q7,u.TO],styles:[".full-width-btn[_ngcontent-%COMP%]{width:100%;height:100%;padding:0}"]}),t})();function et(t,i){if(1&t){const t=s.EpF();s.TgZ(0,"div",28),s.TgZ(1,"a",16),s.NdJ("click",function(){const i=s.CHM(t).$implicit;return s.oxw(2).chooseDepotAction(i)}),s.TgZ(2,"div",29),s.TgZ(3,"div",30),s._UZ(4,"img",31),s.qZA(),s.TgZ(5,"span",32),s._uU(6),s.qZA(),s.qZA(),s.qZA(),s.qZA()}if(2&t){const t=i.$implicit;s.xp6(4),s.s9C("src",t.img,s.LSH),s.xp6(2),s.Oqu(t.name)}}const ot=function(){return{isFromAddFamily:!0}};function rt(t,i){if(1&t&&(s.TgZ(0,"div",19),s.TgZ(1,"div",20),s.TgZ(2,"h3",21),s._uU(3," Veuillez choisir un d\xe9p\xf4t pour continuer "),s.qZA(),s.qZA(),s.TgZ(4,"div",22),s.TgZ(5,"a",23),s.TgZ(6,"div",24),s.TgZ(7,"div",25),s.TgZ(8,"mat-icon",26),s._uU(9,"add"),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.YNc(10,et,7,2,"div",27),s.qZA(),s.qZA()),2&t){const t=s.oxw();s.xp6(5),s.Q6J("state",s.DdM(2,ot)),s.xp6(5),s.Q6J("ngForOf",t.depots)}}function nt(t,i){if(1&t){const t=s.EpF();s.TgZ(0,"div",28),s.TgZ(1,"a",16),s.NdJ("click",function(){const i=s.CHM(t).$implicit;return s.oxw(2).chooseCategoryAction(i)}),s.TgZ(2,"div",29),s.TgZ(3,"div",30),s._UZ(4,"img",31),s.qZA(),s.TgZ(5,"span",32),s._uU(6),s.qZA(),s.qZA(),s.qZA(),s.qZA()}if(2&t){const t=i.$implicit;s.xp6(4),s.s9C("src",t.img,s.LSH),s.xp6(2),s.Oqu(t.name)}}function at(t,i){if(1&t&&(s.TgZ(0,"div",19),s.TgZ(1,"div",20),s.TgZ(2,"h3",21),s._uU(3," Veuillez choisir une cat\xe9gorie pour continuer "),s.qZA(),s.qZA(),s.TgZ(4,"div",22),s.TgZ(5,"a",33),s.TgZ(6,"div",24),s.TgZ(7,"div",25),s.TgZ(8,"mat-icon",26),s._uU(9,"add"),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.YNc(10,nt,7,2,"div",27),s.qZA(),s.qZA()),2&t){const t=s.oxw();s.xp6(10),s.Q6J("ngForOf",t.categories)}}function st(t,i){if(1&t&&(s.TgZ(0,"div",52),s._UZ(1,"img",53),s.qZA()),2&t){const t=s.oxw(2);s.xp6(1),s.Q6J("src",t.imgFile,s.LSH)}}function ct(t,i){1&t&&(s.TgZ(0,"mat-error",54),s._uU(1," L'image est "),s.TgZ(2,"strong"),s._uU(3,"obligatoire"),s.qZA(),s.qZA())}function dt(t,i){1&t&&(s.TgZ(0,"mat-error"),s._uU(1," La d\xe9signation de la famille est "),s.TgZ(2,"strong"),s._uU(3,"obligatoire"),s.qZA(),s.qZA())}function gt(t,i){if(1&t){const t=s.EpF();s.TgZ(0,"div",19),s.TgZ(1,"div",34),s.TgZ(2,"h3",35),s._uU(3," Veuillez remplir la formulaire puis cliquer sur confirmer "),s.qZA(),s.qZA(),s.YNc(4,st,2,1,"div",36),s.TgZ(5,"div",3),s.TgZ(6,"div",37),s.TgZ(7,"button",38),s.NdJ("click",function(){return s.CHM(t),s.oxw().openInput()}),s.TgZ(8,"mat-icon"),s._uU(9,"image"),s.qZA(),s._uU(10," Choisir une image "),s.qZA(),s.TgZ(11,"input",39),s.NdJ("change",function(i){return s.CHM(t),s.oxw().onImageChange(i)}),s.qZA(),s.YNc(12,ct,4,0,"mat-error",40),s.qZA(),s.qZA(),s.TgZ(13,"form",41),s.TgZ(14,"div",3),s.TgZ(15,"div",42),s.TgZ(16,"mat-form-field",43),s.TgZ(17,"mat-label",44),s._uU(18,"D\xe9signation"),s.qZA(),s._UZ(19,"input",45),s.YNc(20,dt,4,0,"mat-error",46),s.qZA(),s.qZA(),s.TgZ(21,"div",42),s.TgZ(22,"mat-form-field",43),s.TgZ(23,"mat-label",44),s._uU(24,"Description"),s.qZA(),s._UZ(25,"textarea",47),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.TgZ(26,"div",48),s.TgZ(27,"div",49),s.TgZ(28,"button",50),s.TgZ(29,"mat-icon"),s._uU(30,"clear"),s.qZA(),s._uU(31," Annuler "),s.qZA(),s.qZA(),s.TgZ(32,"div",49),s.TgZ(33,"button",51),s.NdJ("click",function(){return s.CHM(t),s.oxw().addFamilyAction()}),s.TgZ(34,"mat-icon"),s._uU(35,"done"),s.qZA(),s._uU(36," Confirmer "),s.qZA(),s.qZA(),s.qZA(),s.qZA()}if(2&t){const t=s.oxw();s.xp6(4),s.Q6J("ngIf",t.imgFile),s.xp6(8),s.Q6J("ngIf",t.submited&&!t.currentFile),s.xp6(1),s.Q6J("formGroup",t.addFamilyForm),s.xp6(7),s.Q6J("ngIf",t.addFamilyForm.get("name").hasError("required"))}}let lt=(()=>{class t{constructor(t,i,e,o){this.stockService=t,this.fb=i,this.router=e,this.snackBar=o,this.depots=[],this.categories=[],this.chooseDepot=!0,this.chooseCategory=!1,this.addFamily=!1,this.submited=!1,this.isFromAddArticle=!1,this.isFromAddType=!1,this.chooseDepotAction=t=>{this.chooseDepot=!1,this.chooseCategory=!0,this.categories=t.listCategorys},this.chooseCategoryAction=t=>{this.chooseCategory=!1,this.addFamily=!0,this.category=t},this.addFamilyAction=()=>{if(this.submited=!0,this.addFamilyForm.invalid||!this.currentFile)return;const t=new FormData;t.append("file",this.currentFile?this.currentFile[0]:null),t.append("name",this.addFamilyForm.get("name").value.trim()),t.append("description",this.addFamilyForm.get("description").value),t.append("idCategory",this.category._id),this.stockService.addFamily(t).subscribe(t=>{console.log("resp>>>",t),this.showNotification("snackbar-success","La famille a \xe9t\xe9 ajout\xe9e avec succ\xe8s","top","end")})},this.backButtonAction=()=>{this.addFamily?(this.addFamily=!1,this.chooseCategory=!0):this.chooseCategory&&(this.chooseCategory=!1,this.chooseDepot=!0)},this.cancelAction=()=>{};const r=this.router.getCurrentNavigation();this.isFromAddArticle=!!r.extras.state&&r.extras.state.isFromAddArticle,this.isFromAddType=!!r.extras.state&&r.extras.state.isFromAddType}ngOnInit(){this.getListArticlesOfAllDepots(),this.addFamilyForm=this.createAddFamilyForm()}createAddFamilyForm(){return this.fb.group({name:["",n.kI.required],description:[""],file:[""]})}openInput(){document.getElementById("fileInput").click()}onImageChange(t){const i=new FileReader;if(t.target.files&&t.target.files.length){const[e]=t.target.files;this.currentFile=t.target.files,i.readAsDataURL(e),i.onload=()=>{this.imgFile=i.result}}}getListArticlesOfAllDepots(){this.stockService.getListOfArticlesByAllDepot().pipe((0,a.q)(1)).subscribe(t=>{this.depots=t,console.log("Result getListArticlesOfAllDepots : ",t)})}showNotification(t,i,e,o){this.snackBar.open(i,"",{duration:3e3,verticalPosition:e,horizontalPosition:o,panelClass:t})}}return t.\u0275fac=function(i){return new(i||t)(s.Y36(c.q),s.Y36(n.qu),s.Y36(r.F0),s.Y36(d.ux))},t.\u0275cmp=s.Xpm({type:t,selectors:[["app-add-family"]],decls:30,vars:3,consts:[[1,"content"],[1,"container-fluid"],[1,"block-header"],[1,"row"],[1,"col-xs-12","col-sm-12","col-md-12","col-lg-12"],[1,"breadcrumb","breadcrumb-style"],[1,"breadcrumb-item"],[1,"page-title"],[1,"breadcrumb-item","bcrumb-1"],[1,"fas","fa-home"],[1,"breadcrumb-item","active"],[1,"breadcrumb-item","bcrumb-3"],[1,"col-md-12","col-sm-12"],[1,"card",2,"height","100%"],[1,"card-body"],[2,"display","flex","justify-content","space-between"],[3,"click"],[2,"font-size","55px","color","rgb(50, 76, 228)","cursor","pointer"],["class","row","style","padding: 30px",4,"ngIf"],[1,"row",2,"padding","30px"],[1,"text-center","mt-3",2,"margin-bottom","30px"],[2,"font-weight","bold","font-family","open sans, sans-serif","font-size","30px"],[1,"row","mt-2","mb-5",2,"margin-top","30px"],["routerLink","/settings/depot/add",1,"col-lg-2","mb-3",3,"state"],[1,"boxDiv","text-center",2,"height","137.5px"],[2,"display","flex","justify-content","center","height","100%","align-items","center"],[2,"transform","scale(2)"],["class","col-lg-2 mb-3",4,"ngFor","ngForOf"],[1,"col-lg-2","mb-3"],[1,"boxDiv","text-center"],[2,"width","100%"],["alt","image","width","100%","height","80px",1,"image",3,"src"],[2,"margin-bottom","25px","align-self","flex-center","font-size","15px","margin-top","10px"],["routerLink","/settings/category/add",1,"col-lg-2","mb-3"],[1,"text-center","mt-3"],[2,"font-weight","bold","font-family","open sans, sans-serif","font-size","30px","margin-bottom","30px"],["class","preview","style","text-align: center; margin-bottom: 20px",4,"ngIf"],[1,"mb-3","col"],["mat-raised-button","","color","primary",3,"click"],["id","fileInput","hidden","","type","file","name","file","accept",".jpg,.jpeg,.png,.jfif","formControlName","file",3,"change"],["style","margin-top: 5px; font-size: 75%; padding: 0 1em",4,"ngIf"],["id","addFamilyForm",3,"formGroup"],[1,"col-12"],["appearance","outline",1,"mb-3",2,"width","100%"],[2,"font-size","16px"],["matInput","","formControlName","name","type","text","required","",1,"example-right-align",3,"value"],[4,"ngIf"],["matInput","","formControlName","description",1,"example-right-align",3,"value"],[1,"row",2,"height","50px","margin-top","20px"],[1,"col-6"],["mat-raised-button","",1,"full-width-btn"],["mat-raised-button","","color","primary","form","addFamilyForm",1,"full-width-btn",3,"click"],[1,"preview",2,"text-align","center","margin-bottom","20px"],[2,"width","150px","height","150px","border-radius","12px",3,"src"],[2,"margin-top","5px","font-size","75%","padding","0 1em"]],template:function(t,i){1&t&&(s.TgZ(0,"section",0),s.TgZ(1,"div",1),s.TgZ(2,"div",2),s.TgZ(3,"div",3),s.TgZ(4,"div",4),s.TgZ(5,"ul",5),s.TgZ(6,"li",6),s.TgZ(7,"h4",7),s._uU(8,"Stock"),s.qZA(),s.qZA(),s.TgZ(9,"li",8),s.TgZ(10,"a"),s._UZ(11,"i",9),s._uU(12,"Accueil"),s.qZA(),s.qZA(),s.TgZ(13,"li",10),s._uU(14,"Param\xe8tres"),s.qZA(),s.TgZ(15,"li",11),s._uU(16,"Famille"),s.qZA(),s.TgZ(17,"li",11),s._uU(18,"Ajouter"),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.TgZ(19,"div",3),s.TgZ(20,"div",12),s.TgZ(21,"div",13),s.TgZ(22,"div",14),s.TgZ(23,"div",15),s.TgZ(24,"span",16),s.NdJ("click",function(){return i.backButtonAction()}),s.TgZ(25,"mat-icon",17),s._uU(26,"reply"),s.qZA(),s.qZA(),s.qZA(),s.YNc(27,rt,11,3,"div",18),s.YNc(28,at,11,1,"div",18),s.YNc(29,gt,37,4,"div",18),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.qZA()),2&t&&(s.xp6(27),s.Q6J("ngIf",i.chooseDepot),s.xp6(1),s.Q6J("ngIf",i.chooseCategory),s.xp6(1),s.Q6J("ngIf",i.addFamily))},directives:[g.Hw,o.O5,r.yS,o.sg,l.lW,n.Fj,n.JJ,n.u,n._Y,n.JL,n.sg,u.KE,u.hX,Z.Nt,n.Q7,u.TO],styles:[".boxDiv[_ngcontent-%COMP%]{display:flex;flex-direction:column;font-weight:700;color:#383838;border-radius:12px;box-shadow:.5px .5px 6px .5px #9e9e9e}img[_ngcontent-%COMP%]{border-top-right-radius:12px 12px;border-top-left-radius:12px 12px}.full-width-btn[_ngcontent-%COMP%]{width:100%;height:100%;padding:0}"]}),t})();function pt(t,i){if(1&t){const t=s.EpF();s.TgZ(0,"div",25),s.TgZ(1,"a",26),s.NdJ("click",function(){const i=s.CHM(t).$implicit;return s.oxw(2).chooseDepotAction(i)}),s.TgZ(2,"div",27),s.TgZ(3,"div",28),s._UZ(4,"img",29),s.qZA(),s.TgZ(5,"span",30),s._uU(6),s.qZA(),s.qZA(),s.qZA(),s.qZA()}if(2&t){const t=i.$implicit;s.xp6(4),s.s9C("src",t.img,s.LSH),s.xp6(2),s.Oqu(t.name)}}const mt=function(){return{isFromAddType:!0}};function ut(t,i){if(1&t&&(s.TgZ(0,"div",16),s.TgZ(1,"div",17),s.TgZ(2,"h3",18),s._uU(3," Veuillez choisir un d\xe9p\xf4t pour continuer "),s.qZA(),s.qZA(),s.TgZ(4,"div",19),s.TgZ(5,"a",20),s.TgZ(6,"div",21),s.TgZ(7,"div",22),s.TgZ(8,"mat-icon",23),s._uU(9,"add"),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.YNc(10,pt,7,2,"div",24),s.qZA(),s.qZA()),2&t){const t=s.oxw();s.xp6(5),s.Q6J("state",s.DdM(2,mt)),s.xp6(5),s.Q6J("ngForOf",t.depots)}}function Zt(t,i){if(1&t){const t=s.EpF();s.TgZ(0,"div",25),s.TgZ(1,"a",26),s.NdJ("click",function(){const i=s.CHM(t).$implicit;return s.oxw(2).chooseCategoryAction(i)}),s.TgZ(2,"div",27),s.TgZ(3,"div",28),s._UZ(4,"img",29),s.qZA(),s.TgZ(5,"span",30),s._uU(6),s.qZA(),s.qZA(),s.qZA(),s.qZA()}if(2&t){const t=i.$implicit;s.xp6(4),s.s9C("src",t.img,s.LSH),s.xp6(2),s.Oqu(t.name)}}function ht(t,i){if(1&t){const t=s.EpF();s.TgZ(0,"div",16),s.TgZ(1,"div"),s.TgZ(2,"span",26),s.NdJ("click",function(){return s.CHM(t),s.oxw().backButtonAction()}),s.TgZ(3,"mat-icon",31),s._uU(4,"reply"),s.qZA(),s.qZA(),s.qZA(),s.TgZ(5,"div",17),s.TgZ(6,"h3",18),s._uU(7," Veuillez choisir une cat\xe9gorie pour continuer "),s.qZA(),s.qZA(),s.TgZ(8,"div",19),s.TgZ(9,"a",32),s.TgZ(10,"div",21),s.TgZ(11,"div",22),s.TgZ(12,"mat-icon",23),s._uU(13,"add"),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.YNc(14,Zt,7,2,"div",24),s.qZA(),s.qZA()}if(2&t){const t=s.oxw();s.xp6(14),s.Q6J("ngForOf",t.categories)}}function At(t,i){if(1&t){const t=s.EpF();s.TgZ(0,"div",25),s.TgZ(1,"a",26),s.NdJ("click",function(){const i=s.CHM(t).$implicit;return s.oxw(2).chooseFamilyAction(i)}),s.TgZ(2,"div",27),s.TgZ(3,"div",28),s._UZ(4,"img",29),s.qZA(),s.TgZ(5,"span",30),s._uU(6),s.qZA(),s.qZA(),s.qZA(),s.qZA()}if(2&t){const t=i.$implicit;s.xp6(4),s.s9C("src",t.img,s.LSH),s.xp6(2),s.Oqu(t.name)}}function ft(t,i){if(1&t){const t=s.EpF();s.TgZ(0,"div",16),s.TgZ(1,"div"),s.TgZ(2,"span",26),s.NdJ("click",function(){return s.CHM(t),s.oxw().backButtonAction()}),s.TgZ(3,"mat-icon",31),s._uU(4,"reply"),s.qZA(),s.qZA(),s.qZA(),s.TgZ(5,"div",17),s.TgZ(6,"h3",18),s._uU(7," Veuillez choisir une famille pour continuer "),s.qZA(),s.qZA(),s.TgZ(8,"div",19),s.TgZ(9,"a",33),s.TgZ(10,"div",21),s.TgZ(11,"div",22),s.TgZ(12,"mat-icon",23),s._uU(13,"add"),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.YNc(14,At,7,2,"div",24),s.qZA(),s.qZA()}if(2&t){const t=s.oxw();s.xp6(14),s.Q6J("ngForOf",t.families)}}function qt(t,i){if(1&t&&(s.TgZ(0,"div",52),s._UZ(1,"img",53),s.qZA()),2&t){const t=s.oxw(2);s.xp6(1),s.Q6J("src",t.imgFile,s.LSH)}}function Tt(t,i){1&t&&(s.TgZ(0,"mat-error",54),s._uU(1," L'image est "),s.TgZ(2,"strong"),s._uU(3,"obligatoire"),s.qZA(),s.qZA())}function xt(t,i){1&t&&(s.TgZ(0,"mat-error"),s._uU(1," La d\xe9signation de type est "),s.TgZ(2,"strong"),s._uU(3,"obligatoire"),s.qZA(),s.qZA())}function bt(t,i){if(1&t){const t=s.EpF();s.TgZ(0,"div",16),s.TgZ(1,"div"),s.TgZ(2,"span",26),s.NdJ("click",function(){return s.CHM(t),s.oxw().backButtonAction()}),s.TgZ(3,"mat-icon",31),s._uU(4,"reply"),s.qZA(),s.qZA(),s.qZA(),s.TgZ(5,"div",34),s.TgZ(6,"h3",35),s._uU(7," Veuillez remplir la formulaire puis cliquer sur confirmer "),s.qZA(),s.qZA(),s.YNc(8,qt,2,1,"div",36),s.TgZ(9,"div",3),s.TgZ(10,"div",37),s.TgZ(11,"button",38),s.NdJ("click",function(){return s.CHM(t),s.oxw().openInput()}),s.TgZ(12,"mat-icon"),s._uU(13,"image"),s.qZA(),s._uU(14," Choisir une image "),s.qZA(),s.TgZ(15,"input",39),s.NdJ("change",function(i){return s.CHM(t),s.oxw().onImageChange(i)}),s.qZA(),s.YNc(16,Tt,4,0,"mat-error",40),s.qZA(),s.qZA(),s.TgZ(17,"form",41),s.TgZ(18,"div",3),s.TgZ(19,"div",42),s.TgZ(20,"mat-form-field",43),s.TgZ(21,"mat-label",44),s._uU(22,"D\xe9signation"),s.qZA(),s._UZ(23,"input",45),s.YNc(24,xt,4,0,"mat-error",46),s.qZA(),s.qZA(),s.TgZ(25,"div",42),s.TgZ(26,"mat-form-field",43),s.TgZ(27,"mat-label",44),s._uU(28,"Description"),s.qZA(),s._UZ(29,"textarea",47),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.TgZ(30,"div",48),s.TgZ(31,"div",49),s.TgZ(32,"button",50),s.TgZ(33,"mat-icon"),s._uU(34,"clear"),s.qZA(),s._uU(35," Annuler "),s.qZA(),s.qZA(),s.TgZ(36,"div",49),s.TgZ(37,"button",51),s.NdJ("click",function(){return s.CHM(t),s.oxw().addTypeAction()}),s.TgZ(38,"mat-icon"),s._uU(39,"done"),s.qZA(),s._uU(40," Confirmer "),s.qZA(),s.qZA(),s.qZA(),s.qZA()}if(2&t){const t=s.oxw();s.xp6(8),s.Q6J("ngIf",t.imgFile),s.xp6(8),s.Q6J("ngIf",t.submited&&!t.currentFile),s.xp6(1),s.Q6J("formGroup",t.addTypeForm),s.xp6(7),s.Q6J("ngIf",t.addTypeForm.get("name").hasError("required"))}}const vt=[{path:"article/add",component:j},{path:"type/add",component:(()=>{class t{constructor(t,i,e,o){this.stockService=t,this.fb=i,this.router=e,this.snackBar=o,this.depots=[],this.categories=[],this.families=[],this.chooseDepot=!0,this.chooseCategory=!1,this.chooseFamily=!1,this.addType=!1,this.submited=!1,this.chooseDepotAction=t=>{this.chooseDepot=!1,this.chooseCategory=!0,this.categories=t.listCategorys},this.chooseCategoryAction=t=>{this.chooseCategory=!1,this.chooseFamily=!0,this.families=t.listFamily},this.chooseFamilyAction=t=>{this.chooseFamily=!1,this.addType=!0,this.family=t},this.addTypeAction=()=>{if(this.submited=!0,this.addTypeForm.invalid||!this.currentFile)return;const t=new FormData;t.append("file",this.currentFile?this.currentFile[0]:null),t.append("name",this.addTypeForm.get("name").value.trim()),t.append("description",this.addTypeForm.get("description").value),t.append("idFamily",this.family._id),this.stockService.addType(t).subscribe(t=>{console.log("resp>>>",t),this.showNotification("snackbar-success","Le type a \xe9t\xe9 ajout\xe9 avec succ\xe8s","top","end")})},this.backButtonAction=()=>{this.addType?(this.addType=!1,this.chooseFamily=!0):this.chooseFamily?(this.chooseFamily=!1,this.chooseCategory=!0):this.chooseCategory?(this.chooseCategory=!1,this.chooseDepot=!0):this.router.navigate(["settings/article/add"])},this.cancelAction=()=>{}}ngOnInit(){this.getListArticlesOfAllDepots(),this.addTypeForm=this.createAddTypeForm()}createAddTypeForm(){return this.fb.group({name:["",n.kI.required],description:[""],file:[""]})}openInput(){document.getElementById("fileInput").click()}onImageChange(t){const i=new FileReader;if(t.target.files&&t.target.files.length){const[e]=t.target.files;this.currentFile=t.target.files,i.readAsDataURL(e),i.onload=()=>{this.imgFile=i.result}}}getListArticlesOfAllDepots(){this.stockService.getListOfArticlesByAllDepot().pipe((0,a.q)(1)).subscribe(t=>{this.depots=t,console.log("Result getListArticlesOfAllDepots : ",t)})}showNotification(t,i,e,o){this.snackBar.open(i,"",{duration:3e3,verticalPosition:e,horizontalPosition:o,panelClass:t})}}return t.\u0275fac=function(i){return new(i||t)(s.Y36(c.q),s.Y36(n.qu),s.Y36(r.F0),s.Y36(d.ux))},t.\u0275cmp=s.Xpm({type:t,selectors:[["app-add-type"]],decls:27,vars:4,consts:[[1,"content"],[1,"container-fluid"],[1,"block-header"],[1,"row"],[1,"col-xs-12","col-sm-12","col-md-12","col-lg-12"],[1,"breadcrumb","breadcrumb-style"],[1,"breadcrumb-item"],[1,"page-title"],[1,"breadcrumb-item","bcrumb-1"],[1,"fas","fa-home"],[1,"breadcrumb-item","active"],[1,"breadcrumb-item","bcrumb-3"],[1,"col-md-12","col-sm-12"],[1,"card",2,"height","100%"],[1,"card-body"],["class","row","style","padding: 30px",4,"ngIf"],[1,"row",2,"padding","30px"],[1,"text-center","mt-3",2,"margin-bottom","30px"],[2,"font-weight","bold","font-family","open sans, sans-serif","font-size","30px"],[1,"row","mt-2","mb-5",2,"margin-top","30px"],["routerLink","/settings/depot/add",1,"col-lg-2","mb-3",3,"state"],[1,"boxDiv","text-center",2,"height","137.5px"],[2,"display","flex","justify-content","center","height","100%","align-items","center"],[2,"transform","scale(2)"],["class","col-lg-2 mb-3",4,"ngFor","ngForOf"],[1,"col-lg-2","mb-3"],[3,"click"],[1,"boxDiv","text-center"],[2,"width","100%"],["alt","image","width","100%","height","80px",1,"image",3,"src"],[2,"margin-bottom","25px","align-self","flex-center","font-size","15px","margin-top","10px"],[2,"font-size","55px","color","rgb(50, 76, 228)","cursor","pointer"],["routerLink","/settings/category/add",1,"col-lg-2","mb-3"],["routerLink","/settings/family/add",1,"col-lg-2","mb-3"],[1,"text-center","mt-3"],[2,"font-weight","bold","font-family","open sans, sans-serif","font-size","30px","margin-bottom","30px"],["class","preview","style","text-align: center; margin-bottom: 20px",4,"ngIf"],[1,"mb-3","col"],["mat-raised-button","","color","primary",3,"click"],["id","fileInput","hidden","","type","file","name","file","accept",".jpg,.jpeg,.png,.jfif","formControlName","file",3,"change"],["style","margin-top: 5px; font-size: 75%; padding: 0 1em",4,"ngIf"],["id","addTypeForm",3,"formGroup"],[1,"col-12"],["appearance","outline",1,"mb-3",2,"width","100%"],[2,"font-size","16px"],["matInput","","formControlName","name","type","text","required","",1,"example-right-align",3,"value"],[4,"ngIf"],["matInput","","formControlName","description",1,"example-right-align",3,"value"],[1,"row",2,"height","50px","margin-top","20px"],[1,"col-6"],["mat-raised-button","",1,"full-width-btn"],["mat-raised-button","","color","primary","form","addTypeForm",1,"full-width-btn",3,"click"],[1,"preview",2,"text-align","center","margin-bottom","20px"],[2,"width","150px","height","150px","border-radius","12px",3,"src"],[2,"margin-top","5px","font-size","75%","padding","0 1em"]],template:function(t,i){1&t&&(s.TgZ(0,"section",0),s.TgZ(1,"div",1),s.TgZ(2,"div",2),s.TgZ(3,"div",3),s.TgZ(4,"div",4),s.TgZ(5,"ul",5),s.TgZ(6,"li",6),s.TgZ(7,"h4",7),s._uU(8,"Stock"),s.qZA(),s.qZA(),s.TgZ(9,"li",8),s.TgZ(10,"a"),s._UZ(11,"i",9),s._uU(12,"Accueil"),s.qZA(),s.qZA(),s.TgZ(13,"li",10),s._uU(14,"Param\xe8tres"),s.qZA(),s.TgZ(15,"li",11),s._uU(16,"Type"),s.qZA(),s.TgZ(17,"li",11),s._uU(18,"Ajouter"),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.TgZ(19,"div",3),s.TgZ(20,"div",12),s.TgZ(21,"div",13),s.TgZ(22,"div",14),s.YNc(23,ut,11,3,"div",15),s.YNc(24,ht,15,1,"div",15),s.YNc(25,ft,15,1,"div",15),s.YNc(26,bt,41,4,"div",15),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.qZA()),2&t&&(s.xp6(23),s.Q6J("ngIf",i.chooseDepot),s.xp6(1),s.Q6J("ngIf",i.chooseCategory),s.xp6(1),s.Q6J("ngIf",i.chooseFamily),s.xp6(1),s.Q6J("ngIf",i.addType))},directives:[o.O5,r.yS,g.Hw,o.sg,l.lW,n.Fj,n.JJ,n.u,n._Y,n.JL,n.sg,u.KE,u.hX,Z.Nt,n.Q7,u.TO],styles:[".boxDiv[_ngcontent-%COMP%]{display:flex;flex-direction:column;font-weight:700;color:#383838;border-radius:12px;box-shadow:.5px .5px 6px .5px #9e9e9e}img[_ngcontent-%COMP%]{border-top-right-radius:12px 12px;border-top-left-radius:12px 12px}.full-width-btn[_ngcontent-%COMP%]{width:100%;height:100%;padding:0}"]}),t})()},{path:"family/add",component:lt},{path:"category/add",component:X},{path:"depot/add",component:it}];let yt=(()=>{class t{}return t.\u0275fac=function(i){return new(i||t)},t.\u0275mod=s.oAB({type:t}),t.\u0275inj=s.cJS({imports:[[r.Bz.forChild(vt)],r.Bz]}),t})();var Ft=e(87932),_t=e(44716),wt=e(29282),Ct=e(32430);let Ut=(()=>{class t{}return t.\u0275fac=function(i){return new(i||t)},t.\u0275mod=s.oAB({type:t}),t.\u0275inj=s.cJS({imports:[[o.ez,n.u5,Ft.m,yt,_t.T5,n.UX,wt.JX,Ct.Sv]]}),t})()}}]);