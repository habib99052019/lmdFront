<div class="addContainer">
    <!-- <div class="modalHeader">
        <div class="editRowModal">
            <div class="modalHeader clearfix">
                <img [src]='' alt="avatar">
                <div class="modal-about">
                    <div class="fw-bold p-t-5 font-17">
                        {{dialogTitle}}</div>
                </div>
            </div>
        </div>
        <button mat-icon-button (click)="dialogRef.close()" aria-label="Close dialog">
      <mat-icon>close</mat-icon>
    </button>
    </div> -->
    <div>
        <form class="register-form m-4" [formGroup]="this.reservationMenuForm" (ngSubmit)="submit">
           
           

           <div>
             
           
            <div class="row">
                
                <!---------------------------->
                <div class="col">
                    <mat-form-field class="example-full-width mb-1" appearance="outline">
                        <mat-label>Nom</mat-label>
                        <input matInput formControlName="first_name" required >
                        <mat-icon matSuffix>face</mat-icon>
                        <mat-error *ngIf="reservationMenuForm.get('first_name').hasError('required')">
                            Nom est obligatoire
                        </mat-error>
                    </mat-form-field>
                </div>
                <div class="col">
                    <mat-form-field class="example-full-width mb-1" appearance="outline">
                        <mat-label>Prenom</mat-label>
                        <input matInput formControlName="last_name" required >
                        <mat-icon matSuffix>face</mat-icon>
                        <mat-error *ngIf="reservationMenuForm.get('last_name').hasError('required')">
                            Prenom est obligatoire
                        </mat-error>
                    </mat-form-field>
                </div>
                <div class="col">
                    <mat-form-field class="example-full-width mb-1" appearance="outline">
                        <mat-label>Numéro de téléphone</mat-label>
                        <input matInput formControlName="number_phone" required >
                        <mat-icon matSuffix>phone</mat-icon>
                        <mat-error *ngIf="reservationMenuForm.get('number_phone').hasError('required')">
                            Numéro de téléphone est obligatoire
                        </mat-error>
                    </mat-form-field>
                </div>

                <div class="col-xl-3 col-lg-3 col-md-3 col-sm-12">
                    <mat-form-field class="example-full-width mb-1" appearance="outline">
                        <mat-label>Type de repas</mat-label>
                        <mat-select formControlName="entreSta" (selectionChange)="showMenuStandard($event)">
                            <mat-option *ngFor="let menu of this.RepasStandardTypeList" [value]="menu">
                                {{menu}}
                            </mat-option>
                        </mat-select>

                    </mat-form-field>
                </div>



                <!--<div class="col">
                    <mat-form-field class="example-full-width mb-1" appearance="outline">
                        <mat-label>Menu</mat-label>
                        <mat-select formControlName="menuID" (selectionChange)="showMenu($event)">
                            <mat-option *ngFor="let menu of this.Menus" [value]="menu">
                                {{menu.name}} : {{menu.price}} Dt
                            </mat-option>
                            
                        </mat-select>

                    </mat-form-field>
                </div>-->

              
                <!-------------->
            </div>
            <div class="row">
                <div class="col-lg-3 col-md-3">
                    <mat-form-field class="example-full-width" appearance="outline">
                        <mat-label>Email</mat-label>
                        <input matInput formControlName="email" required>
                        <mat-icon matSuffix>email</mat-icon>
                    </mat-form-field>
                </div>
               
                <div *ngIf="this.showNatureSaison"   class="col-xl-3 col-lg-3 col-md-3 col-sm-12">
                    <mat-form-field class="example-full-width mb-1" appearance="outline">
                        <mat-label>Nature de saison</mat-label>
                        <mat-select formControlName="nature" (selectionChange)="showNatureSaisonType($event)">
                            <mat-option *ngFor="let menu of this.NaturSaison" [value]="menu">
                                {{menu}}
                            </mat-option>

                          
                        </mat-select>

                    </mat-form-field>
                </div>
                <div  *ngIf="this.showHautSaison"   class="col-xl-3 col-lg-3 col-md-3 col-sm-12">
                    <mat-form-field class="example-full-width mb-1" appearance="outline">
                        <mat-label>Haut de saison</mat-label>
                        <mat-select formControlName="haut" (selectionChange)="selectHautSaisonType($event)">
                            <mat-option *ngFor="let menu of this.MenuHautSaison" [value]="menu">
                                {{menu.name}} : {{menu.price}} Dt
                            </mat-option>
                        </mat-select>

                    </mat-form-field>
                </div>

                <div *ngIf="this.showBasSaison"    class="col-xl-3 col-lg-3 col-md-3 col-sm-12">
                    <mat-form-field class="example-full-width mb-1" appearance="outline">
                        <mat-label>Bas de saison</mat-label>
                        <mat-select formControlName="bas"  (selectionChange)="selectBasSaisonType($event)"  >
                            <mat-option *ngFor="let menu of this.MenuBasSaison" [value]="menu">
                                {{menu.name}} : {{menu.price}} Dt
                            </mat-option>
                        </mat-select>

                    </mat-form-field>
                </div>

               

               


              
              

            </div>
            
            <div class="row">
                <div class="col">
                    <mat-form-field class="example-full-width mb-1" appearance="outline">
                        <mat-label>Nombre de personnes</mat-label>
                        <input matInput formControlName="number_guests" type="number" [min]="1" (change)="re_calculTotal($event)">
                        <mat-icon matSuffix>group</mat-icon>
                    </mat-form-field>
                </div>

                <div class="col">
                    <mat-form-field class="example-full-width mb-1" appearance="outline">
                        <mat-label>Date prevue</mat-label>
                        <input matInput [matDatepicker]="picker" formControlName="startDate" [min]="today"   (dateChange)="checkRoomReservation($event)"      required>
                        <mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>
                        <mat-datepicker #picker></mat-datepicker>
                        <mat-error *ngIf="reservationMenuForm.get('startDate').hasError('required')">
                            Veuillez sélectionner la date prevu
                        </mat-error>
                    </mat-form-field>
                </div>

                <div class="col">
                    <mat-form-field class="example-full-width mb-1" appearance="outline">
                        <mat-label>L'heure</mat-label>
                        <input matInput formControlName="number_heure" type="time" >
                        
                    </mat-form-field>
                </div>
                <div class="col-xl-3 col-lg-3 col-md-1 col-sm-12">
                    <mat-form-field class="example-full-width mb-1" appearance="outline">
                        <mat-label>Status</mat-label>
                        <mat-select formControlName="status" required>
                            <mat-option [value]="'COMMANDE'">
                                Commandé
                            </mat-option>

                            <mat-option [value]="'LIVRE'">
                                Livré
                            </mat-option>
                            <mat-option [value]="'PAYE'">
                                Payé
                            </mat-option>
                        </mat-select>
                        <mat-error *ngIf="reservationMenuForm.get('status').hasError('required')">
                            Veuillez sélectionner le status
                        </mat-error>
                    </mat-form-field>
                </div>
            </div>


            <div class="row " *ngIf="showMenuDetails">
                <div class="col-md-12">
                    <div class="card">
                        <div class="card-body bg-gray text-white text-capitalize">
                            <div class="col-md-12 m-2">
                                Entrée : {{ entree}}
                            </div>
                            <div class="col-md-12 m-2">
                                Suite : {{suite}}
                            </div>
                            <div class="col-md-12 m-2">
                                Dessert : {{dessert}}
                            </div>
                        </div>
                    </div>
                </div>

            </div>
              
         
            <div class="row">

               

                <div class="col-xl-6 col-lg-6 col-md-6 col-sm-12" style="font-size: 8px"  >
                    <mat-form-field class="example-full-width"  appearance="outline">
                        <mat-label style="font-size: 12px;">Commentaire</mat-label>
                        <textarea matInput formControlName="comment"></textarea>
                    </mat-form-field>
               </div>
            </div>
          

            <div style="display: flex; flex-direction:row; justify-content:end;">
                <div>
                    <button mat-icon-button color="warn" (click)="removeFromTotal('Soda')" [disabled]="this.sodaPrice === 0">
                        <mat-icon>remove</mat-icon>
                      </button> Soda
                    <button mat-icon-button color="primary" (click)="addToTotal('Soda')">
                        <mat-icon>add</mat-icon>
                    </button>
                </div>
                <div>
                    <button mat-icon-button color="warn" (click)="removeFromTotal('Eau')" [disabled]="this.EauPrice === 0">
                        <mat-icon>remove</mat-icon>
                      </button> Eau
                    <button mat-icon-button color="primary" (click)="addToTotal('Eau')">
                        <mat-icon>add</mat-icon>
                    </button>
                </div>
            </div>
            <div class="row">
                <div class="col-md-12">
                    <div class="card">
                        <div class="card-body bg-gray text-white text-capitalize">
                         


                            <div  class="details">
                              
                                <div  *ngIf="MenuPrice1">
                                    <p style="color:rgb(83, 83, 83);margin-top: 8px;font-weight: bold;" >prix Menu : <span style="color:orange">{{this.MenuPrice}} Dt </span> * <span style="color:orange">{{this.reservationMenuForm.get('number_guests').value}}</span></p> 
                               </div>
                               <div *ngIf="MenuPrice2" >
                                 <p style="color:rgb(83, 83, 83);font-weight: bold;margin-top: 8px" > prix Menu : <span style="color:orange">20</span> *  <sapn style="color:orange">{{this.reservationMenuForm.get('number_guests').value}}</sapn></p>
                               </div>
                                <div  *ngIf="this.EauPrice !== 0"   style="display: flex; justify-content: space-between;">
                                          
                                          <p style="margin-right: 90px; color:rgb(83, 83, 83);font-weight: bold;">Eau : <span style="color:orange">{{this.EauPrice }} Dt</span> </p> 
                                          <p style="color:rgb(83, 83, 83);font-weight: bold;"> Eau: <span style="color:orange" >{{eau}}</span></p>
                                </div>
                                <div  *ngIf="this.sodaPrice !== 0"    style="display: flex;justify-content: space-between;">
                                     
                                    <p style="margin-right: 79px;color:rgb(83, 83, 83);font-weight: bold;">Soda : <span style="color:orange">{{this.sodaPrice }} Dt </span> </p> 
                                    <p style="color:rgb(83, 83, 83);font-weight: bold;"> Soda: <span style="color:orange" >{{soda}}</span></p>
                               </div>
                              
                               

                                <div  class="remise">
                                    
                                    <div style="display: flex; margin-top: 10px;">
                                        <p style="color:rgb(83, 83, 83);font-weight: bold;">Prix total : </p> 
                                        <p style="color:orange;font-weight: bold;margin-left: 2px;"> {{this.PriceTotal}} DT</p>
                                      </div>
                                      <form>
                                           <mat-form-field class="example-full-width mb-3" appearance="outline">
                                                <mat-label>Total avec remise</mat-label>
                                                <input matInput [(ngModel)]="this.remisePrice" name="remise" type="number">
                            
                                          </mat-form-field>
                                      </form>
                                   
                                </div>
                            </div>




                        </div>
                    </div>
                </div>
            </div>

           

            






           
                <div style="display: flex; flex-direction:row; justify-content:end;">
                    <div>
                        <!---[disabled]="!reservationMenuForm.valid"-->
                        <button  mat-raised-button color="warn" (click)="onNoClick()" tabindex="-1">Annuler</button>
                        <button  style="margin-left:10px"    mat-raised-button color="primary" [type]="submit" [mat-dialog-close]="1"  (click)="confirmAdd()">Confirmer</button>
                    </div>
                </div>
            </div>

          
        </form>
    </div>
</div>